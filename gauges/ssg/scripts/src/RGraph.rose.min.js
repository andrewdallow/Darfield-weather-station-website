
if(typeof(RGraph)=="undefined"){RGraph={}}RGraph.Rose=function(d,c){this.id=d;this.canvas=document.getElementById(d);this.context=this.canvas.getContext("2d");this.data=c;this.canvas.__object__=this;this.type="rose";this.isRGraph=true;this.uid=RGraph.CreateUID();this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID();this.colorsParsed=false;RGraph.OldBrowserCompat(this.context);this.centerx=0;this.centery=0;this.radius=0;this.max=0;this.angles=[];this.properties={"chart.background.axes":true,"chart.background.axes.color":"black","chart.background.grid":true,"chart.background.grid.color":"#ccc","chart.background.grid.size":null,"chart.background.grid.spokes":null,"chart.background.grid.count":5,"chart.centerx":null,"chart.centery":null,"chart.radius":null,"chart.colors":["rgba(255,0,0,0.5)","rgba(255,255,0,0.5)","rgba(0,255,255,0.5)","rgb(0,255,0)","gray","blue","rgb(255,128,255)","green","pink","gray","aqua"],"chart.colors.sequential":false,"chart.colors.alpha":null,"chart.margin":0,"chart.strokestyle":"#aaa","chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":true,"chart.title.font":null,"chart.title.x":null,"chart.title.y":null,"chart.title.halign":null,"chart.title.valign":null,"chart.labels":null,"chart.labels.position":"center","chart.labels.axes":"nsew","chart.labels.offset":0,"chart.text.color":"black","chart.text.font":"Arial","chart.text.size":10,"chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":"right","chart.key.shadow":false,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":true,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":true,"chart.key.linewidth":1,"chart.key.colors":null,"chart.contextmenu":null,"chart.tooltips":null,"chart.tooltips.event":"onclick","chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":true,"chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.annotatable":false,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":true,"chart.zoom.fade.out":true,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":true,"chart.zoom.background":true,"chart.zoom.action":"zoom","chart.resizable":false,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.adjustable":false,"chart.ymax":null,"chart.ymin":0,"chart.scale.decimals":null,"chart.scale.point":".","chart.scale.thousand":",","chart.variant":"stacked","chart.exploded":0,"chart.events.mousemove":null,"chart.events.click":null,"chart.animation.roundrobin.factor":1,"chart.animation.roundrobin.radius":true,"chart.animation.grow.multiplier":1};var b=RGraph.array_linearize(this.data);for(var a=0;a<b.length;++a){this["$"+a]={}}if(!this.canvas.__rgraph_aa_translated__){this.context.translate(0.5,0.5);this.canvas.__rgraph_aa_translated__=true}RGraph.Register(this)};RGraph.Rose.prototype.Set=function(a,b){if(a.substr(0,6)!="chart."){a="chart."+a}this.properties[a.toLowerCase()]=b};RGraph.Rose.prototype.Get=function(a){if(a.substr(0,6)!="chart."){a="chart."+a}return this.properties[a.toLowerCase()]};RGraph.Rose.prototype.Draw=function(){RGraph.FireCustomEvent(this,"onbeforedraw");this.gutterLeft=this.Get("chart.gutter.left");this.gutterRight=this.Get("chart.gutter.right");this.gutterTop=this.Get("chart.gutter.top");this.gutterBottom=this.Get("chart.gutter.bottom");this.radius=(Math.min(this.canvas.width-this.gutterLeft-this.gutterRight,this.canvas.height-this.gutterTop-this.gutterBottom)/2);this.centerx=((this.canvas.width-this.gutterLeft-this.gutterRight)/2)+this.gutterLeft;this.centery=((this.canvas.height-this.gutterTop-this.gutterBottom)/2)+this.gutterTop;this.angles=[];this.total=0;this.startRadians=0;if(this.Get("chart.key")&&this.Get("chart.key").length>0&&this.Get("chart.key").length>=3){this.centerx=this.centerx-this.Get("chart.gutter.right")+5}if(typeof(this.Get("chart.centerx"))=="number"){this.centerx=this.Get("chart.centerx")}if(typeof(this.Get("chart.centery"))=="number"){this.centery=this.Get("chart.centery")}if(typeof(this.Get("chart.radius"))=="number"){this.radius=this.Get("chart.radius")}if(!this.colorsParsed){this.parseColors();this.colorsParsed=true}this.DrawBackground();this.DrawRose();this.DrawLabels();if(this.Get("chart.contextmenu")){RGraph.ShowContext(this)}if(this.Get("chart.resizable")){RGraph.AllowResizing(this)}if(this.Get("chart.adjustable")){RGraph.AllowAdjusting(this)}RGraph.InstallEventListeners(this);RGraph.FireCustomEvent(this,"ondraw")};RGraph.Rose.prototype.DrawBackground=function(){this.context.lineWidth=1;if(this.properties["chart.background.grid"]){if(typeof(this.properties["chart.background.grid.count"])=="number"){this.properties["chart.background.grid.size"]=this.radius/this.properties["chart.background.grid.count"]}this.context.beginPath();this.context.strokeStyle=this.properties["chart.background.grid.color"];for(var b=this.properties["chart.background.grid.size"];b<=this.radius;b+=this.properties["chart.background.grid.size"]){this.context.arc(this.centerx,this.centery,b,0,TWOPI,false)}this.context.stroke();this.context.beginPath();if(typeof(this.properties["chart.background.grid.spokes"])=="number"){var a=(360/this.properties["chart.background.grid.spokes"]);for(var b=a;b<=360;b+=a){this.context.arc(this.centerx,this.centery,this.radius,(b/(180/PI))-HALFPI,((b+0.0001)/(180/PI))-HALFPI,0);this.context.lineTo(this.centerx,this.centery)}}else{for(var b=15;b<=360;b+=15){this.context.arc(this.centerx,this.centery,this.radius,(b/(180/PI))-HALFPI,((b+0.0001)/(180/PI))-HALFPI,false);this.context.lineTo(this.centerx,this.centery)}}this.context.stroke()}if(this.Get("chart.background.axes")){this.context.beginPath();this.context.strokeStyle=this.Get("chart.background.axes.color");this.context.moveTo(this.centerx-this.radius,Math.round(this.centery));this.context.lineTo(this.centerx+this.radius,Math.round(this.centery));this.context.moveTo(Math.round(this.centerx-this.radius),this.centery-5);this.context.lineTo(Math.round(this.centerx-this.radius),this.centery+5);this.context.moveTo(Math.round(this.centerx+this.radius),this.centery-5);this.context.lineTo(Math.round(this.centerx+this.radius),this.centery+5);for(var b=(this.centerx-this.radius);b<(this.centerx+this.radius);b+=(this.radius/5)){this.context.moveTo(Math.round(b),this.centery-3);this.context.lineTo(Math.round(b),this.centery+3.5)}for(var b=(this.centery-this.radius);b<(this.centery+this.radius);b+=(this.radius/5)){this.context.moveTo(this.centerx-3,Math.round(b));this.context.lineTo(this.centerx+3,Math.round(b))}this.context.moveTo(Math.round(this.centerx),this.centery-this.radius);this.context.lineTo(Math.round(this.centerx),this.centery+this.radius);this.context.moveTo(this.centerx-5,Math.round(this.centery-this.radius));this.context.lineTo(this.centerx+5,Math.round(this.centery-this.radius));this.context.moveTo(this.centerx-5,Math.round(this.centery+this.radius));this.context.lineTo(this.centerx+5,Math.round(this.centery+this.radius));this.context.closePath();this.context.stroke()}};RGraph.Rose.prototype.DrawRose=function(){var m=0;var s=this.data;var c=RGraph.degrees2Radians(this.Get("chart.margin"));if(!this.Get("chart.ymax")){for(var n=0;n<s.length;++n){if(typeof(s[n])=="number"){m=Math.max(m,s[n])}else{if(typeof(s[n])=="object"&&this.Get("chart.variant")=="non-equi-angular"){m=Math.max(m,s[n][0])}else{m=Math.max(m,RGraph.array_sum(s[n]))}}}this.scale=RGraph.getScale(m,this);this.max=this.scale[4]}else{var o=this.Get("chart.ymax");var h=this.Get("chart.ymin");this.scale=[((o-h)*0.2)+h,((o-h)*0.4)+h,((o-h)*0.6)+h,((o-h)*0.8)+h,((o-h)*1)+h];this.max=this.scale[4]}this.sum=RGraph.array_sum(s);this.context.moveTo(this.centerx,this.centery);this.context.stroke();if(this.Get("chart.colors.alpha")){this.context.globalAlpha=this.Get("chart.colors.alpha")}if(typeof(this.Get("chart.variant"))=="string"&&this.Get("chart.variant")=="non-equi-angular"){var t=0;for(var n=0;n<s.length;++n){t+=s[n][1]}for(var n=0;n<this.data.length;++n){var r=((this.data[n][1]/t)*TWOPI);var b=((this.data[n][0]-this.Get("chart.ymin"))/(this.max-this.Get("chart.ymin")))*this.radius;b=b*this.properties["chart.animation.grow.multiplier"];this.context.strokeStyle=this.Get("chart.strokestyle");this.context.fillStyle=this.Get("chart.colors")[0];if(this.Get("chart.colors.sequential")){this.context.fillStyle=this.Get("chart.colors")[n]}this.context.beginPath();var k=(this.startRadians*this.Get("chart.animation.roundrobin.factor"))-HALFPI+c-r/2;var e=((this.startRadians+r)*this.Get("chart.animation.roundrobin.factor"))-HALFPI-c-r/2;var d=this.getexploded(n,k,e,this.Get("chart.exploded"));var q=d[0];var p=d[1];this.context.arc(this.centerx+q,this.centery+p,this.Get("chart.animation.roundrobin.radius")?b*this.Get("chart.animation.roundrobin.factor"):b,k,e,0);this.context.lineTo(this.centerx+q,this.centery+p);this.context.closePath();this.context.stroke();this.context.fill();this.angles.push(gg=[k,e,0,b,this.centerx+q,this.centery+p]);this.startRadians+=r}}else{var g=0;for(var n=0;n<this.data.length;++n){this.context.strokeStyle=this.Get("chart.strokestyle");this.context.fillStyle=this.Get("chart.colors")[0];if(this.Get("chart.colors.sequential")){this.context.fillStyle=this.Get("chart.colors")[n]}var r=(1/this.data.length)*TWOPI;if(typeof(this.data[n])=="number"){this.context.beginPath();var b=((this.data[n]-this.Get("chart.ymin"))/(this.max-this.Get("chart.ymin")))*this.radius;b=b*this.properties["chart.animation.grow.multiplier"];var k=(this.startRadians*this.Get("chart.animation.roundrobin.factor"))-HALFPI+c-r/2;var e=(this.startRadians*this.Get("chart.animation.roundrobin.factor"))+(r*this.Get("chart.animation.roundrobin.factor"))-HALFPI-c-r/2;var d=this.getexploded(n,k,e,this.Get("chart.exploded"));var q=d[0];var p=d[1];this.context.arc(this.centerx+q,this.centery+p,this.Get("chart.animation.roundrobin.radius")?b*this.Get("chart.animation.roundrobin.factor"):b,k,e,0);this.context.lineTo(this.centerx+q,this.centery+p);this.context.closePath();this.context.stroke();this.context.fill();if(e==0){}this.angles.push([k,e,0,b*this.Get("chart.animation.roundrobin.factor"),this.centerx+q,this.centery+p])}else{if(typeof(this.data[n])=="object"){var c=this.Get("chart.margin")/(180/PI);for(var l=0;l<this.data[n].length;++l){var k=(this.startRadians*this.Get("chart.animation.roundrobin.factor"))-HALFPI+c;var e=(this.startRadians*this.Get("chart.animation.roundrobin.factor"))+(r*this.Get("chart.animation.roundrobin.factor"))-HALFPI-c;var d=this.getexploded(n,k,e,this.Get("chart.exploded"));var q=d[0];var p=d[1];this.context.fillStyle=this.Get("chart.colors")[l];if(this.Get("chart.colors.sequential")){this.context.fillStyle=this.Get("chart.colors")[g++]}if(l==0){this.context.beginPath();var f=0;var a=((this.data[n][l]-this.Get("chart.ymin"))/(this.max-this.Get("chart.ymin")))*this.radius;a=a*this.properties["chart.animation.grow.multiplier"];this.context.arc(this.centerx+q,this.centery+p,this.Get("chart.animation.roundrobin.radius")?a*this.Get("chart.animation.roundrobin.factor"):a,k,e,0);this.context.lineTo(this.centerx+q,this.centery+p);this.context.closePath();this.context.stroke();this.context.fill();this.angles.push([k,e,0,a*this.Get("chart.animation.roundrobin.factor"),this.centerx+q,this.centery+p])}else{this.context.beginPath();var f=a;var a=(((this.data[n][l]-this.Get("chart.ymin"))/(this.max-this.Get("chart.ymin")))*this.radius)+f;a=a*this.properties["chart.animation.grow.multiplier"];this.context.arc(this.centerx+q,this.centery+p,f*this.Get("chart.animation.roundrobin.factor"),k,e,0);this.context.arc(this.centerx+q,this.centery+p,a*this.Get("chart.animation.roundrobin.factor"),e,k,true);this.context.closePath();this.context.stroke();this.context.fill();this.angles.push([k,e,f*this.Get("chart.animation.roundrobin.factor"),a*this.Get("chart.animation.roundrobin.factor"),this.centerx+q,this.centery+p])}}}}this.startRadians+=r}}if(this.Get("chart.colors.alpha")){this.context.globalAlpha=1}if(this.Get("chart.title")){RGraph.DrawTitle(this,this.Get("chart.title"),(this.canvas.height/2)-this.radius,this.centerx,this.Get("chart.title.size")?this.Get("chart.title.size"):this.Get("chart.text.size")+2)}};RGraph.Rose.prototype.DrawLabels=function(){this.context.lineWidth=1;var h=this.Get("chart.key");if(h&&h.length){RGraph.DrawKey(this,h,this.Get("chart.colors"))}this.context.fillStyle=this.properties["chart.text.color"];this.context.strokeStyle="black";var a=this.radius;var j=this.Get("chart.text.font");var d=this.Get("chart.text.size");var b=this.context;var g=this.Get("chart.labels.axes").toLowerCase();var c=this.Get("chart.scale.decimals");var i=this.Get("chart.units.pre");var f=this.Get("chart.units.post");if(typeof(this.Get("chart.labels"))=="object"&&this.Get("chart.labels")){this.DrawCircularLabels(b,this.Get("chart.labels"),j,d,a+10)}if(typeof(this.properties["chart.text.size.scale"])=="number"){d=this.properties["chart.text.size.scale"]}var e="rgba(255,255,255,0.8)";if(g.indexOf("n")>-1){RGraph.Text(b,j,d,this.centerx,this.centery-(a*0.2),RGraph.number_format(this,Number(this.scale[0]).toFixed(c),i,f),"center","center",true,false,e);RGraph.Text(b,j,d,this.centerx,this.centery-(a*0.4),RGraph.number_format(this,Number(this.scale[1]).toFixed(c),i,f),"center","center",true,false,e);RGraph.Text(b,j,d,this.centerx,this.centery-(a*0.6),RGraph.number_format(this,Number(this.scale[2]).toFixed(c),i,f),"center","center",true,false,e);RGraph.Text(b,j,d,this.centerx,this.centery-(a*0.8),RGraph.number_format(this,Number(this.scale[3]).toFixed(c),i,f),"center","center",true,false,e);RGraph.Text(b,j,d,this.centerx,this.centery-a,RGraph.number_format(this,Number(this.scale[4]).toFixed(c),i,f),"center","center",true,false,e)}if(g.indexOf("s")>-1){RGraph.Text(b,j,d,this.centerx,this.centery+(a*0.2),RGraph.number_format(this,Number(this.scale[0]).toFixed(c),i,f),"center","center",true,false,e);RGraph.Text(b,j,d,this.centerx,this.centery+(a*0.4),RGraph.number_format(this,Number(this.scale[1]).toFixed(c),i,f),"center","center",true,false,e);RGraph.Text(b,j,d,this.centerx,this.centery+(a*0.6),RGraph.number_format(this,Number(this.scale[2]).toFixed(c),i,f),"center","center",true,false,e);RGraph.Text(b,j,d,this.centerx,this.centery+(a*0.8),RGraph.number_format(this,Number(this.scale[3]).toFixed(c),i,f),"center","center",true,false,e);RGraph.Text(b,j,d,this.centerx,this.centery+a,RGraph.number_format(this,Number(this.scale[4]).toFixed(c),i,f),"center","center",true,false,e)}if(g.indexOf("e")>-1){RGraph.Text(b,j,d,this.centerx+(a*0.2),this.centery,RGraph.number_format(this,Number(this.scale[0]).toFixed(c),i,f),"center","center",true,false,e);RGraph.Text(b,j,d,this.centerx+(a*0.4),this.centery,RGraph.number_format(this,Number(this.scale[1]).toFixed(c),i,f),"center","center",true,false,e);RGraph.Text(b,j,d,this.centerx+(a*0.6),this.centery,RGraph.number_format(this,Number(this.scale[2]).toFixed(c),i,f),"center","center",true,false,e);RGraph.Text(b,j,d,this.centerx+(a*0.8),this.centery,RGraph.number_format(this,Number(this.scale[3]).toFixed(c),i,f),"center","center",true,false,e);RGraph.Text(b,j,d,this.centerx+a,this.centery,RGraph.number_format(this,Number(this.scale[4]).toFixed(c),i,f),"center","center",true,false,e)}if(g.indexOf("w")>-1){RGraph.Text(b,j,d,this.centerx-(a*0.2),this.centery,RGraph.number_format(this,Number(this.scale[0]).toFixed(c),i,f),"center","center",true,false,e);RGraph.Text(b,j,d,this.centerx-(a*0.4),this.centery,RGraph.number_format(this,Number(this.scale[1]).toFixed(c),i,f),"center","center",true,false,e);RGraph.Text(b,j,d,this.centerx-(a*0.6),this.centery,RGraph.number_format(this,Number(this.scale[2]).toFixed(c),i,f),"center","center",true,false,e);RGraph.Text(b,j,d,this.centerx-(a*0.8),this.centery,RGraph.number_format(this,Number(this.scale[3]).toFixed(c),i,f),"center","center",true,false,e);RGraph.Text(b,j,d,this.centerx-a,this.centery,RGraph.number_format(this,Number(this.scale[4]).toFixed(c),i,f),"center","center",true,false,e)}if(g.length>0){RGraph.Text(b,j,d,this.centerx,this.centery,typeof(this.Get("chart.ymin"))=="number"?RGraph.number_format(this,Number(this.Get("chart.ymin")).toFixed(this.Get("chart.scale.decimals")),i,f):"0","center","center",true,false,e)}};RGraph.Rose.prototype.DrawCircularLabels=function(c,h,m,d,b){var e=this.Get("chart.variant");var g=this.Get("chart.labels.position");var b=b+5+this.Get("chart.labels.offset");for(var f=0;f<this.angles.length;++f){if(typeof(e)=="string"&&e=="non-equi-angular"){var l=Number(this.angles[f][0])+((this.angles[f][1]-this.angles[f][0])/2)}else{var l=(TWOPI/h.length)*(f+1)-(TWOPI/(h.length*2));var l=l-HALFPI+(this.Get("chart.labels.position")=="edge"?((TWOPI/h.length)/2):0)}var k=this.centerx+(Math.cos(l)*b);var j=this.centery+(Math.sin(l)*b);if(k>this.centerx){halign="left"}else{if(k==this.centerx){halign="center"}else{halign="right"}}RGraph.Text(c,m,d,k,j,String(h[f]),"center",halign)}};RGraph.Rose.prototype.getShape=RGraph.Rose.prototype.getSegment=function(o){RGraph.FixEventObject(o);var c=this.canvas;var b=this.context;var q=this.angles;var p=[];for(var j=0;j<q.length;++j){var m=q[j][0];var l=q[j][1];var a=q[j][2];var n=q[j][3];var h=q[j][4];var g=q[j][5];var k=RGraph.getMouseXY(o);var f=k[0]-h;var d=k[1]-g;this.context.beginPath();this.context.arc(h,g,a?a:0.01,m,l,false);this.context.arc(h,g,n,l,m,true);this.context.closePath();if(b.isPointInPath(k[0],k[1])){q[j][6]=j;if(RGraph.parseTooltipText){var r=RGraph.parseTooltipText(this.Get("chart.tooltips"),q[j][6])}q[j]["object"]=this;q[j]["x"]=q[j][4];q[j]["y"]=q[j][5];q[j]["angle.start"]=q[j][0];q[j]["angle.end"]=q[j][1];q[j]["radius.start"]=q[j][2];q[j]["radius.end"]=q[j][3];q[j]["index"]=q[j][6];q[j]["tooltip"]=r?r:null;return q[j]}}return null};RGraph.Rose.prototype.getexploded=function(b,c,a,f){var e,d;if(typeof(f)=="object"&&typeof(f[b])=="number"){e=Math.cos(((a-c)/2)+c)*f[b];d=Math.sin(((a-c)/2)+c)*f[b]}else{if(typeof(f)=="number"){e=Math.cos(((a-c)/2)+c)*f;d=Math.sin(((a-c)/2)+c)*f}else{e=0;d=0}}return[e,d]};RGraph.Rose.prototype.AllowTooltips=function(){RGraph.PreLoadTooltipImages(this);RGraph.InstallWindowMousedownTooltipListener(this);RGraph.InstallCanvasMousemoveTooltipListener(this);RGraph.InstallCanvasMouseupTooltipListener(this)};RGraph.Rose.prototype.Highlight=function(a){if(this.Get("chart.tooltips.highlight")){this.context.beginPath();this.context.strokeStyle=this.Get("chart.highlight.stroke");this.context.fillStyle=this.Get("chart.highlight.fill");this.context.arc(a.x,a.y,a["radius.end"],a["angle.start"],a["angle.end"],false);if(a["radius.start"]>0){this.context.arc(a.x,a.y,a["radius.start"],a["angle.end"],a["angle.start"],true)}else{this.context.lineTo(a.x,a.y)}this.context.closePath();this.context.stroke();this.context.fill()}};RGraph.Rose.prototype.getObjectByXY=function(c){var b=RGraph.getMouseXY(c);var a=RGraph.getHypLength(this.centerx,this.centery,b[0],b[1]);if(b[0]>(this.centerx-this.radius)&&b[0]<(this.centerx+this.radius)&&b[1]>(this.centery-this.radius)&&b[1]<(this.centery+this.radius)&&a<=this.radius){return this}};RGraph.Rose.prototype.positionTooltip=function(e,k,j,q,l){var p=e.angles[l][4];var n=e.angles[l][5];var g=e.angles[l][0];var f=e.angles[l][1];var h=((e.angles[l][3]-e.angles[l][2])/2)+e.angles[l][2];var o=((f-g)/2)+g;var d=RGraph.getCanvasXY(e.canvas);var i=e.Get("chart.gutter.left");var b=e.Get("chart.gutter.top");var a=q.offsetWidth;var m=q.offsetHeight;q.style.overflow="";var c=new Image();c.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC";c.style.position="absolute";c.id="__rgraph_tooltip_pointer__";c.style.top=(q.offsetHeight-2)+"px";q.appendChild(c);if((d[0]+p+(Math.cos(o)*h)-(a/2))<10){q.style.left=(d[0]+p+(Math.cos(o)*h)-(a*0.1))+"px";q.style.top=(d[1]+n+(Math.sin(o)*h)-m-5)+"px";c.style.left=((a*0.1)-8.5)+"px"}else{if((d[0]+p+(Math.cos(o)*h)+(a/2))>(document.body.offsetWidth-10)){q.style.left=(d[0]+p+(Math.cos(o)*h)-(a*0.9))+"px";q.style.top=(d[1]+n+(Math.sin(o)*h)-m-5)+"px";c.style.left=((a*0.9)-8.5)+"px"}else{q.style.left=(d[0]+p+(Math.cos(o)*h)-(a/2))+"px";q.style.top=(d[1]+n+(Math.sin(o)*h)-m-5)+"px";c.style.left=((a*0.5)-8.5)+"px"}}};RGraph.Rose.prototype.getRadius=function(b){if(b<0||b>this.max){return null}var a=(b/this.max)*this.radius;return a};RGraph.Rose.prototype.parseColors=function(){for(var a=0;a<this.properties["chart.colors"].length;++a){this.properties["chart.colors"][a]=this.parseSingleColorForGradient(this.properties["chart.colors"][a])}if(!RGraph.is_null(this.properties["chart.key.colors"])){for(var a=0;a<this.properties["chart.key.colors"].length;++a){this.properties["chart.key.colors"][a]=this.parseSingleColorForGradient(this.properties["chart.key.colors"][a])}}this.properties["chart.text.color"]=this.parseSingleColorForGradient(this.properties["chart.text.color"]);this.properties["chart.title.color"]=this.parseSingleColorForGradient(this.properties["chart.title.color"]);this.properties["chart.highlight.fill"]=this.parseSingleColorForGradient(this.properties["chart.highlight.fill"]);this.properties["chart.highlight.stroke"]=this.parseSingleColorForGradient(this.properties["chart.highlight.stroke"])};RGraph.Rose.prototype.parseSingleColorForGradient=function(a){var c=this.canvas;var d=this.context;if(!a||typeof(a)!="string"){return a}if(a.match(/^gradient\((.*)\)$/i)){var f=RegExp.$1.split(":");var g=d.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius);var e=1/(f.length-1);g.addColorStop(0,RGraph.trim(f[0]));for(var b=1;b<f.length;++b){g.addColorStop(b*e,RGraph.trim(f[b]))}}return g?g:a};