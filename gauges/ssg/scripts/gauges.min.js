
/*!
 * A starter gauges page for Cumulus and Weather Display, based
 * on the JavaScript SteelSeries gauges by Gerrit Grunwald.
 *
 * Created by Mark Crossley, July 2011
 *  see scriptVer below for latest release
 *
 * Released under GNU GENERAL PUBLIC LICENSE, Version 2, June 1991
 * See the enclosed License file
 *
 * File encoding = UTF-8
 *
 */
/*! Tiny Pub/Sub - v0.7.0 - 2013-01-29
* https://github.com/cowboy/jquery-tiny-pubsub
* Copyright (c) 2013 "Cowboy" Ben Alman; Licensed MIT */
(function(a){var b=a({});a.subscribe=function(){b.on.apply(b,arguments)};a.unsubscribe=function(){b.off.apply(b,arguments)};a.publish=function(){b.trigger.apply(b,arguments)}}(jQuery));var gauges=(function(){var b="EN",az={scriptVer:"2.5.11",weatherProgram:1,imgPathURL:"./images/",oldGauges:"gauges.htm",realtimeInterval:60,longPoll:false,gaugeMobileScaling:0.85,graphUpdateTime:15,stationTimeout:3,pageUpdateLimit:20,pageUpdatePswd:"its-me",digitalFont:false,digitalForecast:false,showPopupData:true,showPopupGraphs:false,mobileShowGraphs:false,showWindVariation:true,showIndoorTempHum:false,showCloudGauge:true,showUvGauge:false,showSolarGauge:false,showSunshineLed:true,showRoseGauge:true,showRoseGaugeOdo:true,showRoseOnDirGauge:true,showGaugeShadow:true,realTimeURL_LongPoll:"realtimegauges-longpoll.php",realTimeURL_Cumulus:"realtimegauges.txt",realTimeURL_WD:"../../../../data/customclientraw.txt",realTimeURL_VWS:"steelseriesVWSjson.php",realTimeURL_WC:"realtimegaugesWC.txt",realTimeURL_MB:"MBrealtimegauges.txt",realTimeURL_WView:"customclientraw.txt",realTimeURL_weewx:"gauge-data.txt",useCookies:true,tipImages:[],dashboardMode:false,dewDisplayType:"app"},aP={minMaxArea:"rgba(212,132,134,0.3)",windAvgArea:"rgba(132,212,134,0.3)",windVariationSector:"rgba(120,200,120,0.7)",frameDesign:steelseries.FrameDesign.TILTED_GRAY,background:steelseries.BackgroundColor.BEIGE,foreground:steelseries.ForegroundType.TYPE1,pointer:steelseries.PointerType.TYPE8,pointerColour:steelseries.ColorDef.RED,dirAvgPointer:steelseries.PointerType.TYPE8,dirAvgPointerColour:steelseries.ColorDef.BLUE,gaugeType:steelseries.GaugeType.TYPE4,lcdColour:steelseries.LcdColor.STANDARD,knob:steelseries.KnobType.STANDARD_KNOB,knobStyle:steelseries.KnobStyle.SILVER,labelFormat:steelseries.LabelNumberFormat.STANDARD,tickLabelOrientation:steelseries.TickLabelOrientation.HORIZONTAL,rainUseSectionColours:false,rainUseGradientColours:false,tempTrendVisible:true,pressureTrendVisible:true,uvLcdDecimals:1,sunshineThreshold:50,sunshineThresholdPct:75,tempScaleDefMinC:-20,tempScaleDefMaxC:40,tempScaleDefMinF:0,tempScaleDefMaxF:100,baroScaleDefMinhPa:990,baroScaleDefMaxhPa:1030,baroScaleDefMinkPa:99,baroScaleDefMaxkPa:103,baroScaleDefMininHg:29.2,baroScaleDefMaxinHg:30.4,windScaleDefMaxMph:20,windScaleDefMaxKts:20,windScaleDefMaxMs:10,windScaleDefMaxKmh:30,rainScaleDefMaxmm:10,rainScaleDefMaxIn:0.5,rainRateScaleDefMaxmm:10,rainRateScaleDefMaxIn:0.5,uvScaleDefMax:10,solarGaugeScaleMax:1000,cloudScaleDefMaxft:3000,cloudScaleDefMaxm:1000,shadowColour:"rgba(0,0,0,0.3)"},B={fullScaleDeflectionTime:4,gaugeType:aP.gaugeType,minValue:0,niceScale:true,ledVisible:false,frameDesign:aP.frameDesign,backgroundColor:aP.background,foregroundType:aP.foreground,pointerType:aP.pointer,pointerColor:aP.pointerColour,knobType:aP.knob,knobStyle:aP.knobStyle,lcdColor:aP.lcdColour,lcdDecimals:1,digitalFont:az.digitalFont,tickLabelOrientation:aP.tickLabelOrientation,labelNumberFormat:aP.labelFormat},af=true,an=false,G={},n,aB=az.longPoll?Math.max(az.realtimeInterval-20,0):az.realtimeInterval,ak,aX=0,aV=null,aE=0,p=null,aR,o,aL=['<a href="http://sandaysoft.com/products/cumulus" target="_blank">Cumulus</a>','<a href="http://www.weather-display.com/" target="_blank">Weather Display</a>','<a href="http://www.ambientweather.com/virtualstation.html" target="_blank">Virtual Weather Station</a>','<a href="http://trixology.com/weathercat/" target="_blank">WeatherCat</a>','<a href="http://www.meteobridge.com/" target="_blank">Meteobridge</a>','<a href="http://www.wviewweather.com/" target="_blank">Wview</a>','<a href="http://www.weewx.com/" target="_blank">weewx</a>'],N,aF,aW,al,j,D,I,X,R,S,ah,e,am,t,A,aC=function(a3){switch(az.weatherProgram){case 0:o=12;az.realTimeURL=az.longPoll?az.realTimeURL_LongPoll:az.realTimeURL_Cumulus;az.tipImgs=[["temp.png","intemp.png"],["temp.png","temp.png","temp.png","temp.png","temp.png"],"raint.png","rain.png",["hum.png","hum.png"],"press.png","wind.png","windd.png",(az.showUvGauge?"uv.png":null),(az.showSolarGauge?"solar.png":null),(az.showRoseGauge?"windd.png":null),(az.showCloudGauge?"press.png":null)];break;case 1:o=12;az.realTimeURL=az.longPoll?az.realTimeURL_LongPoll:az.realTimeURL_WD;az.tipImgs=[["temp+hum_24hr.php","indoor_temp_24hr.php"],["temp+dew+hum_1hr.php","temp+dew+hum_1hr.php","temp+dew+hum_1hr.php","temp+dew+hum_1hr.php","temp+dew+hum_1hr.php"],"rain_24hr.php","rain_1hr.php",["humidity_1hr.php","humidity_7days.php"],"baro_24hr.php","windgust_1hr.php","winddir_24hr.php",(az.showUvGauge?"uv_24hr.php":null),(az.showSolarGauge?"solar_24hr.php":null),(az.showRoseGauge?"winddir_24hr.php":null),(az.showCloudGauge?"baro_24hr.php":null)];break;case 2:o=11;az.realTimeURL=az.longPoll?az.realTimeURL_LongPoll:az.realTimeURL_VWS;az.showRoseGauge=false;az.showCloudGauge=false;az.tipImgs=[["vws742.jpg","vws741.jpg"],["vws757.jpg","vws762.jpg","vws754.jpg","vws756.jpg",null],"vws744.jpg","vws859.jpg",["vws740.jpg","vws739.jpg"],"vws758.jpg","vws737.jpg","vws736.jpg",(az.showUvGauge?"vws752.jpg":null),(az.showSolarGauge?"vws753.jpg":null),(az.showRoseGauge?"vws736.jpg":null),(az.showCloudGauge?"vws758.jpg":null)];break;case 3:o=13;az.realTimeURL=az.longPoll?az.realTimeURL_LongPoll:az.realTimeURL_WC;az.tipImgs=[["temperature1.jpg","tempin1.jpg"],["dewpoint1.jpg","temperature1.jpg","windchill1.jpg","heatindex1.jpg","temperature1.jpg"],"precipitationc1.jpg","precipitation1.jpg",["rh1.jpg","rhin1.jpg"],"pressure1.jpg","windspeed1.jpg","winddirection1.jpg",(az.showUvGauge?"uv1.jpg":null),(az.showSolarGauge?"solarrad1.jpg":null),(az.showRoseGauge?"winddirection1.jpg":null),(az.showCloudGauge?"cloudbase1.jpg":null)];break;case 4:o=10;az.realTimeURL=az.longPoll?az.realTimeURL_LongPoll:az.realTimeURL_MB;az.showPopupGraphs=false;az.showRoseGauge=false;az.showCloudGauge=false;az.tipImgs=null;break;case 5:o=11;az.realTimeURL=az.longPoll?az.realTimeURL_LongPoll:az.realTimeURL_WView;az.showSunshineLed=false;az.showWindVariation=false;az.showRoseGauge=false;az.showCloudGauge=false;az.tipImgs=[["tempdaycomp.png","indoor_temp.png"],["tempdaycomp.png","tempdaycomp.png","heatchillcomp.png","heatchillcomp.png","tempdaycomp.png"],"rainday.png","rainrate.png",["humidday.png","humidday.png"],"baromday.png","wspeeddaycomp.png","wdirday.png",(az.showUvGauge?"uvday.png":null),(az.showSolarGauge?"solarday.png":null),(az.showRoseGauge?"windroseday.png":null),(az.showCloudGauge?"baromday.png":null)];break;case 6:o=12;az.realTimeURL=az.longPoll?az.realTimeURL_LongPoll:az.realTimeURL_weewx;az.showSunshineLed=true;az.showWindVariation=true;az.showRoseGauge=false;az.tipImgs=[["dayinouttemp.png","dayinouttemp.png"],["dayouttemphum.png","dayouttemphum.png","dayouttemphum.png","dayouttemphum.png","dayouttemphum.png"],"dayrain.png","dayrainrate.png",["dayinouthum.png","dayinouthum.png"],"daybarometer.png","daywind.png","daywinddir.png",(az.showUvGauge?"dayuv.png":null),(az.showSolarGauge?"dayradiation.png":null),(az.showRoseGauge?"daywindvec.png":null),(az.showCloudGauge?"daybarometer.png":null)];break;default:o=0;az.realtimeURL=null;az.showPopupGraphs=false;az.tipImgs=null}if($(window).width()<480){az.gaugeScaling=az.gaugeMobileScaling;az.showPopupGraphs=az.mobileShowGraphs}else{az.gaugeScaling=1}p=y("units");if(p!==null){an=true;aQ("rad_unitsTemp",p.temp);G.tempunit="°"+p.temp;aQ("rad_unitsRain",p.rain);G.rainunit=p.rain;aQ("rad_unitsPress",p.press);G.pressunit=p.press;aQ("rad_unitsWind",p.wind);G.windunit=p.wind;p.windrun=ay(G.windunit);aQ("rad_unitsCloud",p.cloud);G.cloudunit=p.cloud}else{p={temp:"C",rain:"mm",press:"hPa",wind:"km/h",windrun:"km",cloud:"m"};G.tempunit="°C";G.rainunit="mm";G.pressunit="hPa";G.windunit="km/h";G.cloudunit="m"}if(az.showPopupData){ddimgtooltip.showTips=az.showPopupData}if(az.showPopupGraphs){ddimgtooltip.tiparray[0][0]=(az.tipImgs[0][0]===null?null:"");ddimgtooltip.tiparray[1][0]=(az.tipImgs[1][0]===null?null:"");ddimgtooltip.tiparray[2][0]=(az.tipImgs[2]===null?null:"");ddimgtooltip.tiparray[3][0]=(az.tipImgs[3]===null?null:"");ddimgtooltip.tiparray[4][0]=(az.tipImgs[4][0]===null?null:"");ddimgtooltip.tiparray[5][0]=(az.tipImgs[5]===null?null:"");ddimgtooltip.tiparray[6][0]=(az.tipImgs[6]===null?null:"");ddimgtooltip.tiparray[7][0]=(az.tipImgs[7]===null?null:"");ddimgtooltip.tiparray[8][0]=(az.tipImgs[8]===null?null:"");ddimgtooltip.tiparray[9][0]=(az.tipImgs[9]===null?null:"");ddimgtooltip.tiparray[10][0]=(az.tipImgs[10]===null?null:"");ddimgtooltip.tiparray[11][0]=(az.tipImgs[11]===null?null:"")}N=P.getInstance();aF=F.getInstance();aW=aq.getInstance();al=aw.getInstance();if(al){gauges.doTemp=al.update}j=ai.getInstance();if(j){gauges.doDew=j.update}X=aJ.getInstance();if(X){gauges.doHum=X.update}R=W.getInstance();S=Y.getInstance();ah=aN.getInstance();D=M.getInstance();I=O.getInstance();if(!az.showUvGauge){$("#canvas_uv").parent().remove()}else{e=i.getInstance()}if(!az.showSolarGauge){$("#canvas_solar").parent().remove()}else{am=av.getInstance()}if(!az.showRoseGauge){$("#canvas_rose").parent().remove()}else{A=L.getInstance();if(A){A.setTitle(b.windrose);A.setCompassString(b.compass)}}if(!az.showCloudGauge){$("#canvas_cloud").parent().remove();$("#cloud").parent().remove()}else{t=z.getInstance()}changeLang(b,false);if(!a3){a2();n=setInterval(function(){$.publish("gauges.clockTick",null)},1000);if(az.pageUpdateLimit>0&&x("pageUpdate")!==az.pageUpdatePswd){setTimeout(V,az.pageUpdateLimit*60*1000)}}},P=(function(){var a3;var a5;function a4(){if($("#canvas_led").length){a5=new steelseries.Led("canvas_led",{ledColor:steelseries.LedColor.GREEN_LED,size:$("#canvas_led").width()});a8(b.led_title)}function a8(ba){$("#canvas_led").attr("title",ba)}function a9(ba){if(a5){a5.setLedColor(ba)}}function a7(ba){if(a5){a5.setLedOnOff(ba)}}function a6(ba){if(a5){a5.blink(ba)}}return{setTitle:a8,setLedColor:a9,setLedOnOff:a7,blink:a6}}return{getInstance:function(){if(!a3){a3=a4()}return a3}}})(),F=(function(){var a4;var a3;function a5(){if($("#canvas_status").length){a3=new steelseries.DisplaySingle("canvas_status",{width:$("#canvas_status").width(),height:$("#canvas_status").height(),lcdColor:aP.lcdColour,unitStringVisible:false,value:b.statusStr,digitalFont:az.digitalForecast,valuesNumeric:false,autoScroll:true,alwaysScroll:false})}function a6(a7){if(a3){a3.setValue(a7)}}return{setText:a6}}return{getInstance:function(){if(!a4){a4=a5()}return a4}}})(),aq=(function(){var a3,a5,a4=1;function a6(){function a7(){if(a5){a5.setValue(a4);a4+=az.longPoll?1:-1}}function a8(ba){a4=ba}function a9(ba){if(a5){a5.setValue(ba)}}if($("#canvas_timer").length){a5=new steelseries.DisplaySingle("canvas_timer",{width:$("#canvas_timer").width(),height:$("#canvas_timer").height(),lcdColor:aP.lcdColour,lcdDecimals:0,unitString:b.timer,unitStringVisible:true,digitalFont:az.digitalFont,value:a4});$.subscribe("gauges.clockTick",a7)}return{reset:a8,setValue:a9}}return{getInstance:function(){if(!a3){a3=a6()}return a3}}})(),aw=(function(){var a3;var a5;var a4={};function a6(){var a8=$.extend(true,{},B);a4.sections=at(true);a4.areas=[];a4.minValue=aP.tempScaleDefMinC;a4.maxValue=aP.tempScaleDefMaxC;a4.title=b.temp_title_out;a4.value=aP.tempScaleDefMinC+0.0001;a4.maxMinVisible=false;a4.selected="out";if($("#canvas_temp").length){a8.size=Math.ceil($("#canvas_temp").width()*az.gaugeScaling);a8.section=a4.sections;a8.area=a4.areas;a8.minValue=a4.minValue;a8.maxValue=a4.maxValue;a8.thresholdVisible=false;a8.minMeasuredValueVisible=a4.maxMinVisible;a8.maxMeasuredValueVisible=a4.maxMinVisible;a8.titleString=a4.title;a8.unitString=G.tempunit;a8.trendVisible=aP.tempTrendVisible;a5=new steelseries.Radial("canvas_temp",a8);a5.setValue(a4.value);if(az.gaugeScaling!==1){$("#canvas_temp").css({width:a8.size+"px",height:a8.size+"px"})}if(az.showGaugeShadow){$("#canvas_temp").css(c(a8.size))}if(!az.showIndoorTempHum){$("#rad_temp1").remove();$("#lab_temp1").remove();$("#rad_temp2").remove();$("#lab_temp2").remove();$("#rad_hum1").remove();$("#lab_hum1").remove();$("#rad_hum2").remove();$("#lab_hum2").remove()}$.subscribe("gauges.dataUpdated",a9);$.subscribe("gauges.graphUpdate",a7)}else{return null}function a9(){var bd=a4.selected;if(arguments.length===1){bd=arguments[0].value}var bb,ba,bc;a4.minValue=G.tempunit[1]==="C"?aP.tempScaleDefMinC:aP.tempScaleDefMinF;a4.maxValue=G.tempunit[1]==="C"?aP.tempScaleDefMaxC:aP.tempScaleDefMaxF;if(bd==="out"){a4.low=U(G.tempTL);a4.high=U(G.tempTH);a4.lowScale=aD(a4.minValue);a4.highScale=au(a4.maxValue);a4.value=U(G.temp);a4.title=b.temp_title_out;a4.loc=b.temp_out_info;a4.trendVal=U(G.temptrend);a4.popupImg=0;if(aP.tempTrendVisible){bb=v(+a4.trendVal,G.tempunit,false);if(bb===-9999){a4.trend=steelseries.TrendState.OFF}else{if(bb>0){a4.trend=steelseries.TrendState.UP}else{if(bb<0){a4.trend=steelseries.TrendState.DOWN}else{a4.trend=steelseries.TrendState.STEADY}}}}}else{a4.low=U(G.intemp);a4.lowScale=a4.low;a4.high=a4.low;a4.highScale=a4.low;a4.value=a4.low;a4.title=b.temp_title_in;a4.loc=b.temp_in_info;a4.maxMinVisible=false;a4.popupImg=1;if(aP.tempTrendVisible){a4.trend=steelseries.TrendState.OFF}}if(a4.selected!==bd){a4.selected=bd;a5.setTitleString(a4.title);a5.setMaxMeasuredValueVisible(a4.maxMinVisible);a5.setMinMeasuredValueVisible(a4.maxMinVisible);if(az.showPopupGraphs&&az.tipImgs[0][a4.popupImg]!==null){var be="?"+$("#imgtip0_img").attr("src").split("?")[1];$("#imgtip0_img").attr("src",az.imgPathURL+az.tipImgs[0][a4.popupImg]+be)}}ba=G.tempunit[1]==="C"?10:20;while(a4.lowScale<a4.minValue){a4.minValue-=ba;if(a4.highScale<=a4.maxValue-ba){a4.maxValue-=ba}}while(a4.highScale>a4.maxValue){a4.maxValue+=ba;if(a4.minValue>=a4.minValue+ba){a4.minValue+=ba}}if(a4.minValue!==a5.getMinValue()||a4.maxValue!==a5.getMaxValue()){a5.setMinValue(a4.minValue);a5.setMaxValue(a4.maxValue);a5.setValue(a4.minValue)}if(a4.selected==="out"){a4.areas=[steelseries.Section(+a4.low,+a4.high,aP.minMaxArea)]}else{a4.areas=[]}if(aP.tempTrendVisible){a5.setTrend(a4.trend)}a5.setArea(a4.areas);a5.setValueAnimated(+a4.value);if(ddimgtooltip.showTips){if(a4.selected==="out"){bc=a4.loc+" - "+b.lowestF_info+": "+a4.low+G.tempunit+" "+b.at+" "+G.TtempTL+" | "+b.highestF_info+": "+a4.high+G.tempunit+" "+b.at+" "+G.TtempTH;if(a4.trendVal!==-9999){bc+="<br>"+b.temp_trend_info+": "+v(a4.trendVal,G.tempunit,true)+" "+a4.trendVal+G.tempunit+"/h"}}else{bc=a4.loc+": "+G.intemp+G.tempunit}$("#imgtip0_txt").html(bc)}}function a7(bb,ba){if(az.tipImgs[0][a4.popupImg]!==null){$("#imgtip0_img").attr("src",az.imgPathURL+az.tipImgs[0][a4.popupImg]+ba)}}return{data:a4,update:a9,gauge:a5}}return{getInstance:function(){if(!a3){a3=a6()}return a3}}})(),ai=(function(){var a3;var a5;var a4={};function a6(){var a9=$.extend(true,{},B);var a8;a4.sections=at(true);a4.areas=[];a4.minValue=aP.tempScaleDefMinC;a4.maxValue=aP.tempScaleDefMaxC;a4.value=aP.tempScaleDefMinC+0.0001;a8=y("dewGauge");a4.selected=a8?a8:az.dewDisplayType;aQ("rad_dew",a4.selected);switch(a4.selected){case"dew":a4.title=b.dew_title;a4.popupImg=0;break;case"app":a4.title=b.apptemp_title;a4.popupImg=1;break;case"wnd":a4.title=b.chill_title;a4.popupImg=2;break;case"hea":a4.title=b.heat_title;a4.popupImg=3;break;case"hum":a4.title=b.humdx_title;a4.popupImg=4}a4.minMeasuredVisible=false;a4.maxMeasuredVisible=false;if($("#canvas_dew").length){a9.size=Math.ceil($("#canvas_dew").width()*az.gaugeScaling);a9.section=a4.sections;a9.area=a4.areas;a9.minValue=a4.minValue;a9.maxValue=a4.maxValue;a9.thresholdVisible=false;a9.titleString=a4.title;a9.unitString=G.tempunit;a5=new steelseries.Radial("canvas_dew",a9);a5.setValue(a4.value);if(az.gaugeScaling!==1){$("#canvas_dew").css({width:a9.size+"px",height:a9.size+"px"})}if(az.showGaugeShadow){$("#canvas_dew").css(c(a9.size))}$.subscribe("gauges.dataUpdated",ba);$.subscribe("gauges.graphUpdate",a7)}else{return null}function ba(){var bd=a4.selected;if(arguments.length===1){bd=arguments[0].value;aK("dewGauge",bd)}var bc,bb;a4.minValue=G.tempunit[1]==="C"?aP.tempScaleDefMinC:aP.tempScaleDefMinF;a4.maxValue=G.tempunit[1]==="C"?aP.tempScaleDefMaxC:aP.tempScaleDefMaxF;a4.lowScale=aD(a4.minValue);a4.highScale=au(a4.maxValue);switch(bd){case"dew":a4.low=U(G.dewpointTL);a4.high=U(G.dewpointTH);a4.value=U(G.dew);a4.areas=[steelseries.Section(+a4.low,+a4.high,aP.minMaxArea)];a4.title=b.dew_title;a4.minMeasuredVisible=false;a4.maxMeasuredVisible=false;a4.popupImg=0;bc=b.dew_info+":<br>- "+b.lowest_info+": "+a4.low+G.tempunit+" "+b.at+" "+G.TdewpointTL+" | "+b.highest_info+": "+a4.high+G.tempunit+" "+b.at+" "+G.TdewpointTH;break;case"app":a4.low=U(G.apptempTL);a4.high=U(G.apptempTH);a4.value=U(G.apptemp);a4.areas=[steelseries.Section(+a4.low,+a4.high,aP.minMaxArea)];a4.title=b.apptemp_title;a4.minMeasuredVisible=false;a4.maxMeasuredVisible=false;a4.popupImg=1;bc=bc=b.apptemp_info+":<br>- "+b.lowestF_info+": "+a4.low+G.tempunit+" "+b.at+" "+G.TapptempTL+" | "+b.highestF_info+": "+a4.high+G.tempunit+" "+b.at+" "+G.TapptempTH;break;case"wnd":a4.low=U(G.wchillTL);a4.high=U(G.wchill);a4.value=U(G.wchill);a4.areas=[];a4.title=b.chill_title;a4.minMeasuredVisible=true;a4.maxMeasuredVisible=false;a4.popupImg=2;bc=b.chill_info+":<br>- "+b.lowest_info+": "+a4.low+G.tempunit+" "+b.at+" "+G.TwchillTL;break;case"hea":a4.low=U(G.heatindex);a4.high=U(G.heatindexTH);a4.value=U(G.heatindex);a4.areas=[];a4.title=b.heat_title;a4.minMeasuredVisible=false;a4.maxMeasuredVisible=true;a4.popupImg=3;bc=b.heat_info+":<br>- "+b.highest_info+": "+a4.high+G.tempunit+" "+b.at+" "+G.TheatindexTH;break;case"hum":a4.low=U(G.humidex);a4.high=U(G.humidex);a4.value=U(G.humidex);a4.areas=[];a4.title=b.humdx_title;a4.minMeasuredVisible=false;a4.maxMeasuredVisible=false;a4.popupImg=4;bc=b.humdx_info+": "+a4.value+G.tempunit;break}if(a4.selected!==bd){a4.selected=bd;a5.setTitleString(a4.title);if(az.showPopupGraphs&&az.tipImgs[1][a4.popupImg]!==null){var be="?"+$("#imgtip1_img").attr("src").split("?")[1];$("#imgtip1_img").attr("src",az.imgPathURL+az.tipImgs[1][a4.popupImg]+be)}}bb=G.tempunit[1]==="C"?10:20;while(a4.lowScale<a4.minValue){a4.minValue-=bb;if(a4.highScale<=a4.maxValue-bb){a4.maxValue-=bb}}while(a4.highScale>a4.maxValue){a4.maxValue+=bb;if(a4.minValue>=a4.minValue+bb){a4.minValue+=bb}}if(a4.minValue!==a5.getMinValue()||a4.maxValue!==a5.getMaxValue()){a5.setMinValue(a4.minValue);a5.setMaxValue(a4.maxValue);a5.setValue(a4.minValue)}a5.setMinMeasuredValueVisible(a4.minMeasuredVisible);a5.setMaxMeasuredValueVisible(a4.maxMeasuredVisible);a5.setMinMeasuredValue(+a4.low);a5.setMaxMeasuredValue(+a4.high);a5.setArea(a4.areas);a5.setValueAnimated(+a4.value);if(ddimgtooltip.showTips){$("#imgtip1_txt").html(bc)}}function a7(bc,bb){if(az.tipImgs[1][a4.popupImg]!==null){$("#imgtip1_img").attr("src",az.imgPathURL+az.tipImgs[1][a4.popupImg]+bb)}}return{data:a4,update:ba,gauge:a5}}return{getInstance:function(){if(!a3){a3=a6()}return a3}}})(),M=(function(){var a3;var a5;var a4={};function a6(){var a8=$.extend(true,{},B);a4.maxValue=aP.rainScaleDefMaxmm;a4.value=0.0001;a4.title=b.rain_title;a4.lcdDecimals=1;a4.scaleDecimals=1;a4.labelNumberFormat=aP.labelFormat;a4.sections=(aP.rainUseSectionColours?J(true):[]);a4.valGrad=(aP.rainUseGradientColours?ab(true):null);if($("#canvas_rain").length){a8.size=Math.ceil($("#canvas_rain").width()*az.gaugeScaling);a8.maxValue=a4.maxValue;a8.thresholdVisible=false;a8.titleString=a4.title;a8.unitString=G.rainunit;a8.valueColor=steelseries.ColorDef.BLUE;a8.valueGradient=a4.valGrad;a8.useValueGradient=aP.rainUseGradientColours;a8.useSectionColors=aP.rainUseSectionColour;a8.useSectionColors=aP.rainUseSectionColours;a8.labelNumberFormat=a4.labelNumberFormat;a8.fractionalScaleDecimals=a4.scaleDecimals;a5=new steelseries.RadialBargraph("canvas_rain",a8);a5.setValue(a4.value);if(az.gaugeScaling!==1){$("#canvas_rain").css({width:a8.size+"px",height:a8.size+"px"})}if(az.showGaugeShadow){$("#canvas_rain").css(c(a8.size))}$.subscribe("gauges.dataUpdated",a9);$.subscribe("gauges.graphUpdate",a7)}else{return null}function a9(){a4.value=U(G.rfall);if(G.rainunit==="mm"){a4.maxValue=Math.max(Math.ceil(a4.value/10)*10,aP.rainScaleDefMaxmm)}else{if(a4.value<6){a4.maxValue=Math.max(Math.ceil(a4.value),aP.rainRateScaleDefMaxIn)}else{a4.maxValue=Math.max(Math.ceil(a4.value/2)*2,aP.rainRateScaleDefMaxIn)}a4.scaleDecimals=a4.maxValue<1?2:1}if(a4.maxValue!==a5.getMaxValue()){a5.setValue(0);a5.setFractionalScaleDecimals(a4.scaleDecimals);a5.setMaxValue(a4.maxValue)}a5.setValueAnimated(a4.value);if(ddimgtooltip.showTips){$("#imgtip2_txt").html(b.LastRain_info+": "+G.LastRained)}}function a7(bb,ba){if(az.tipImgs[2]!==null){$("#imgtip2_img").attr("src",az.imgPathURL+az.tipImgs[2]+ba)}}return{data:a4,update:a9,gauge:a5}}return{getInstance:function(){if(!a3){a3=a6()}return a3}}})(),O=(function(){var a3;var a5;var a4={};function a6(){var a8=$.extend(true,{},B);a4.maxMeasured=0;a4.maxValue=aP.rainRateScaleDefMaxmm;a4.value=0.0001;a4.title=b.rrate_title;a4.lcdDecimals=1;a4.scaleDecimals=0;a4.labelNumberFormat=aP.labelFormat;a4.sections=ac(true);if($("#canvas_rrate").length){a8.size=Math.ceil($("#canvas_rrate").width()*az.gaugeScaling);a8.section=a4.sections;a8.maxValue=a4.maxValue;a8.thresholdVisible=false;a8.maxMeasuredValueVisible=true;a8.titleString=a4.title;a8.unitString=G.rainunit+"/h";a8.lcdDecimals=a4.lcdDecimals;a8.labelNumberFormat=a4.labelNumberFormat;a8.fractionalScaleDecimals=a4.scaleDecimals;a8.niceScale=false;a5=new steelseries.Radial("canvas_rrate",a8);a5.setMaxMeasuredValue(a4.maxMeasured);a5.setValue(a4.value);if(az.gaugeScaling!==1){$("#canvas_rrate").css({width:a8.size+"px",height:a8.size+"px"})}if(az.showGaugeShadow){$("#canvas_rrate").css(c(a8.size))}$.subscribe("gauges.dataUpdated",a9);$.subscribe("gauges.graphUpdate",a7)}else{return null}function a9(){var ba;a4.value=U(G.rrate);a4.maxMeasured=U(G.rrateTM);a4.overallMax=Math.max(a4.maxMeasured,a4.value);if(G.rainunit==="mm"){a4.maxValue=Math.max(Math.ceil(a4.overallMax/10)*10,10)}else{if(a4.overallMax<=0.5){a4.maxValue=0.5}else{a4.maxValue=Math.ceil(a4.overallMax)}a4.scaleDecimals=a4.maxValue<1?2:(a4.maxValue<7?1:0)}if(a4.maxValue!==a5.getMaxValue()){a5.setValue(0);a5.setFractionalScaleDecimals(a4.scaleDecimals);a5.setMaxValue(a4.maxValue)}a5.setValueAnimated(a4.value);a5.setMaxMeasuredValue(a4.maxMeasured);if(ddimgtooltip.showTips){ba=b.rrate_info+":<br>- "+b.maximum_info+": "+G.rrateTM+" "+G.rainunit+"/h "+b.at+" "+G.TrrateTM+" | "+b.max_hour_info+": "+U(G.hourlyrainTH)+" "+G.rainunit+" "+b.at+" "+G.ThourlyrainTH;$("#imgtip3_txt").html(ba)}}function a7(bb,ba){if(az.tipImgs[3]!==null){$("#imgtip3_img").attr("src",az.imgPathURL+az.tipImgs[3]+ba)}}return{data:a4,update:a9,gauge:a5}}return{getInstance:function(){if(!a3){a3=a6()}return a3}}})(),aJ=(function(){var a3;var a5;var a4={};function a6(){var a8=$.extend(true,{},B);a4.areas=[];a4.value=0.0001;a4.title=b.hum_title_out;a4.selected="out";if($("#canvas_hum").length){a8.size=Math.ceil($("#canvas_hum").width()*az.gaugeScaling);a8.section=[steelseries.Section(0,20,"rgba(255,255,0,0.3)"),steelseries.Section(20,80,"rgba(0,255,0,0.3)"),steelseries.Section(80,100,"rgba(255,0,0,0.3)")];a8.area=a4.areas;a8.maxValue=100;a8.thresholdVisible=false;a8.titleString=a4.title;a8.unitString="RH%";a5=new steelseries.Radial("canvas_hum",a8);a5.setValue(a4.value);if(az.gaugeScaling!==1){$("#canvas_hum").css({width:a8.size+"px",height:a8.size+"px"})}if(az.showGaugeShadow){$("#canvas_hum").css(c(a8.size))}$.subscribe("gauges.dataUpdated",a9);$.subscribe("gauges.graphUpdate",a7)}else{return null}function a9(){var ba;if(arguments.length===1){ba=arguments[0]}var bc=(ba===undefined?a4.selected:ba.value),bb;if(bc==="out"){a4.value=U(G.hum);a4.areas=[steelseries.Section(+U(G.humTL),+U(G.humTH),aP.minMaxArea)];a4.title=b.hum_title_out;a4.popupImg=0}else{a4.value=U(G.inhum);if(G.inhumTL&&G.inhumTH){a4.areas=[steelseries.Section(+U(G.inhumTL),+U(G.inhumTH),aP.minMaxArea)]}else{a4.areas=[]}a4.title=b.hum_title_in;a4.popupImg=1}if(a4.selected!==bc){a4.selected=bc;a5.setTitleString(a4.title);if(az.showPopupGraphs&&az.tipImgs[4][a4.popupImg]!==null){var bd="?"+$("#imgtip4_img").attr("src").split("?")[1];$("#imgtip4_img").attr("src",az.imgPathURL+az.tipImgs[4][a4.popupImg]+bd)}}a5.setArea(a4.areas);a5.setValueAnimated(a4.value);if(ddimgtooltip.showTips){if(a4.selected==="out"){bb=b.hum_out_info+":<br>- "+b.minimum_info+": "+U(G.humTL)+"% "+b.at+" "+G.ThumTL+" | "+b.maximum_info+": "+U(G.humTH)+"% "+b.at+" "+G.ThumTH}else{if(G.inhumTL&&G.inhumTH){bb=b.hum_in_info+":<br>- "+b.minimum_info+": "+U(G.inhumTL)+"% "+b.at+" "+G.TinhumTL+" | "+b.maximum_info+": "+U(G.inhumTH)+"% "+b.at+" "+G.TinhumTH}else{bb=b.hum_in_info+": "+U(G.inhum)+"%"}}$("#imgtip4_txt").html(bb)}}function a7(bb,ba){if(az.tipImgs[4][a4.popupImg]!==null){$("#imgtip4_img").attr("src",az.imgPathURL+az.tipImgs[4][a4.popupImg]+ba)}}return{data:a4,update:a9,gauge:a5}}return{getInstance:function(){if(!a3){a3=a6()}return a3}}})(),W=(function(){var a3;var a5;var a4={};function a6(){var a8=$.extend(true,{},B);a4.sections=[];a4.areas=[];a4.minValue=aP.baroScaleDefMinhPa;a4.maxValue=aP.baroScaleDefMaxhPa;a4.value=a4.minValue+0.0001;a4.title=b.baro_title;a4.lcdDecimals=1;a4.scaleDecimals=0;a4.labelNumberFormat=aP.labelFormat;if($("#canvas_baro").length){a8.size=Math.ceil($("#canvas_baro").width()*az.gaugeScaling);a8.section=a4.sections;a8.area=a4.areas;a8.minValue=a4.minValue;a8.maxValue=a4.maxValue;a8.niceScale=false;a8.thresholdVisible=false;a8.titleString=a4.title;a8.unitString=G.pressunit;a8.lcdDecimals=a4.lcdDecimals;a8.trendVisible=aP.pressureTrendVisible;a8.labelNumberFormat=a4.labelNumberFormat;a8.fractionalScaleDecimals=a4.scaleDecimals;a5=new steelseries.Radial("canvas_baro",a8);a5.setValue(a4.value);if(az.gaugeScaling!==1){$("#canvas_baro").css({width:a8.size+"px",height:a8.size+"px"})}if(az.showGaugeShadow){$("#canvas_baro").css(c(a8.size))}$.subscribe("gauges.dataUpdated",a9);$.subscribe("gauges.graphUpdate",a7)}else{return null}function a9(){var bb,ba;a4.recLow=+U(G.pressL);a4.recHigh=+U(G.pressH);a4.todayLow=+U(G.pressTL);a4.todayHigh=+U(G.pressTH);a4.value=+U(G.press);a4.trendVal=+U(G.presstrendval)/(az.weatherProgram===2?3:1);if(G.pressunit==="hPa"||G.pressunit==="mb"){a4.minValue=Math.min(Math.floor((a4.recLow-2)/10)*10,990);a4.maxValue=Math.max(Math.ceil((a4.recHigh+2)/10)*10,1030);a4.trendValRnd=a4.trendVal.toFixed(1)}else{if(G.pressunit==="kPa"){a4.minValue=Math.min(Math.floor(a4.recLow-0.2),99);a4.maxValue=Math.max(Math.ceil(a4.recHigh+0.2),105);a4.trendValRnd=a4.trendVal.toFixed(2)}else{a4.minValue=Math.min(Math.floor((a4.recLow-0.1)*2)/2,29.5);a4.maxValue=Math.max(Math.ceil((a4.recHigh+0.1)*2)/2,30.5);a4.trendValRnd=a4.trendVal.toFixed(3)}}if(a4.minValue!==a5.getMinValue()||a4.maxValue!==a5.getMaxValue()){a5.setMinValue(a4.minValue);a5.setMaxValue(a4.maxValue);a5.setValue(a4.minValue)}if(a4.recHigh===a4.todayHigh&&a4.recLow===a4.todayLow){a4.sections=[];a4.areas=[steelseries.Section(a4.todayLow,a4.todayHigh,aP.minMaxArea)]}else{a4.sections=[steelseries.Section(a4.minValue,a4.recLow,"rgba(255,0,0,0.5)"),steelseries.Section(a4.recHigh,a4.maxValue,"rgba(255,0,0,0.5)")];a4.areas=[steelseries.Section(a4.minValue,a4.recLow,"rgba(255,0,0,0.5)"),steelseries.Section(a4.recHigh,a4.maxValue,"rgba(255,0,0,0.5)"),steelseries.Section(a4.todayLow,a4.todayHigh,aP.minMaxArea)]}if(aP.pressureTrendVisible){ba=aM(a4.trendVal,G.pressunit,false);if(ba===-9999){a4.trend=steelseries.TrendState.OFF}else{if(ba>0){a4.trend=steelseries.TrendState.UP}else{if(ba<0){a4.trend=steelseries.TrendState.DOWN}else{a4.trend=steelseries.TrendState.STEADY}}}a5.setTrend(a4.trend)}a5.setArea(a4.areas);a5.setSection(a4.sections);a5.setValueAnimated(a4.value);if(ddimgtooltip.showTips){bb=b.baro_info+":<br>- "+b.minimum_info+": "+a4.todayLow+" "+G.pressunit+" "+b.at+" "+G.TpressTL+" | "+b.maximum_info+": "+a4.todayHigh+" "+G.pressunit+" "+b.at+" "+G.TpressTH;if(a4.trendVal!==-9999){bb+="<br>- "+b.baro_trend_info+": "+aM(a4.trendVal,G.pressunit,true)+" "+(a4.trendValRnd>0?"+":"")+a4.trendValRnd+" "+G.pressunit+"/h"}$("#imgtip5_txt").html(bb)}}function a7(bb,ba){if(az.tipImgs[5]!==null){$("#imgtip5_img").attr("src",az.imgPathURL+az.tipImgs[5]+ba)}}return{data:a4,update:a9,gauge:a5}}return{getInstance:function(){if(!a3){a3=a6()}return a3}}})(),Y=(function(){var a3;var a5;var a4={};function a6(){var a8=$.extend(true,{},B);a4.maxValue=aP.windScaleDefMaxKph;a4.areas=[];a4.maxMeasured=0;a4.value=0.0001;a4.title=b.wind_title;if($("#canvas_wind").length){a8.size=Math.ceil($("#canvas_wind").width()*az.gaugeScaling);a8.area=a4.areas;a8.maxValue=a4.maxValue;a8.niceScale=false;a8.thresholdVisible=false;a8.maxMeasuredValueVisible=true;a8.titleString=a4.title;a8.unitString=G.windunit;a5=new steelseries.Radial("canvas_wind",a8);a5.setMaxMeasuredValue(a4.maxMeasured);a5.setValue(a4.value);if(az.gaugeScaling!==1){$("#canvas_wind").css({width:a8.size+"px",height:a8.size+"px"})}if(az.showGaugeShadow){$("#canvas_wind").css(c(a8.size))}$.subscribe("gauges.dataUpdated",a9);$.subscribe("gauges.graphUpdate",a7)}else{return null}function a9(){var ba;a4.value=U(G.wlatest);a4.average=U(G.wspeed);a4.gust=U(G.wgust);a4.maxGustToday=U(G.wgustTM);a4.maxAvgToday=U(G.windTM);switch(G.windunit){case"mph":case"kts":a4.maxValue=Math.max(Math.ceil(a4.maxGustToday/10)*10,aP.windScaleDefMaxMph);break;case"m/s":a4.maxValue=Math.max(Math.ceil(a4.maxGustToday/5)*5,aP.windScaleDefMaxMs);break;default:a4.maxValue=Math.max(Math.ceil(a4.maxGustToday/20)*20,aP.windScaleDefMaxKmh)}a4.areas=[steelseries.Section(0,+a4.average,aP.windAvgArea),steelseries.Section(+a4.average,+a4.gust,aP.minMaxArea)];if(a4.maxValue!==a5.getMaxValue()){a5.setMaxValue(a4.maxValue)}a5.setArea(a4.areas);a5.setMaxMeasuredValue(a4.maxGustToday);a5.setValueAnimated(a4.value);if(ddimgtooltip.showTips){ba=b.tenminavgwind_info+": "+a4.average+" "+G.windunit+" | "+b.maxavgwind_info+": "+a4.maxAvgToday+" "+G.windunit+"<br>"+b.tenmingust_info+": "+a4.gust+" "+G.windunit+" | "+b.maxgust_info+": "+a4.maxGustToday+" "+G.windunit+" "+b.at+" "+G.TwgustTM+" "+b.bearing_info+": "+G.bearingTM+(isNaN(parseFloat(G.bearingTM))?"":"° ("+ax(+G.bearingTM)+")");$("#imgtip6_txt").html(ba)}}function a7(bb,ba){if(az.tipImgs[6]!==null){$("#imgtip6_img").attr("src",az.imgPathURL+az.tipImgs[6]+ba)}}return{data:a4,update:a9,gauge:a5}}return{getInstance:function(){if(!a3){a3=a6()}return a3}}})(),aN=(function(){var a3;var a5;var a4={};function a6(){var a8=$.extend(true,{},B);a4.valueLatest=0;a4.valueAverage=0;a4.titles=[b.latest_web,b.tenminavg_web];if($("#canvas_dir").length){a8.size=Math.ceil($("#canvas_dir").width()*az.gaugeScaling);a8.pointerTypeLatest=aP.pointer;a8.pointerTypeAverage=aP.dirAvgPointer;a8.pointerColorAverage=aP.dirAvgPointerColour;a8.degreeScale=true;a8.pointSymbols=b.compass;a8.roseVisible=false;a8.lcdTitleStrings=a4.titles;a8.useColorLabels=false;a5=new steelseries.WindDirection("canvas_dir",a8);a5.setValueAverage(+a4.valueAverage);a5.setValueLatest(+a4.valueLatest);if(az.gaugeScaling!==1){$("#canvas_dir").css({width:a8.size+"px",height:a8.size+"px"})}if(az.showGaugeShadow){$("#canvas_dir").css(c(a8.size))}$.subscribe("gauges.dataUpdated",a9);$.subscribe("gauges.graphUpdate",a7)}else{return null}function a9(){var bh,be,bf,bi,bd,ba=0,bc=0,bb=0,bg=[];a4.valueLatest=a1(G.bearing);a4.valueAverage=a1(G.avgbearing);a4.bearingFrom=a1(G.BearingRangeFrom10);a4.bearingTo=a1(G.BearingRangeTo10);a5.setValueAnimatedAverage(+a4.valueAverage);if(a4.valueAverage===0){a4.valueLatest=0}a5.setValueAnimatedLatest(+a4.valueLatest);if(az.showWindVariation){bh=+U(G.wspeed);be=+U(G.wgust);switch(G.windunit.toLowerCase()){case"mph":a4.avgKnots=0.868976242*bh;a4.gstKnots=0.868976242*be;break;case"kts":a4.avgKnots=bh;a4.gstKnots=be;break;case"m/s":a4.avgKnots=1.94384449*bh;a4.gstKnots=1.94384449*be;break;case"km/h":a4.avgKnots=0.539956803*bh;a4.gstKnots=0.539956803*be;break}a4.avgKnots=Math.round(a4.avgKnots);a4.gstKnots=Math.round(a4.gstKnots);a5.VRB=" - METAR: "+("0"+G.avgbearing).slice(-3)+("0"+a4.avgKnots).slice(-2)+"G"+("0"+a4.gstKnots).slice(-2)+"KT ";if(bh>0){bf=(+a4.bearingTo<+a4.bearingFrom?360+(+a4.bearingTo):+a4.bearingTo)-(+a4.bearingFrom);if(a4.avgKnots<3){if(az.showRoseOnDirGauge){a5.setSection([steelseries.Section(a4.bearingFrom,a4.bearingTo,aP.windVariationSector)]);a5.setSection([])}else{a5.setSection([steelseries.Section(a4.bearingFrom,a4.bearingTo,aP.minMaxArea)]);a5.setArea([])}}else{if(az.showRoseOnDirGauge){a5.setSection([steelseries.Section(a4.bearingFrom,a4.bearingTo,aP.windVariationSector)])}else{a5.setSection([]);a5.setArea([steelseries.Section(a4.bearingFrom,a4.bearingTo,aP.minMaxArea)])}}if((bf<60&&bf>0)||bf===0&&a4.bearingFrom===a4.valueAverage){a5.VRB+=" STDY"}else{if(a4.avgKnots<3){a5.VRB+=" VRB"}else{a5.VRB+=" "+a4.bearingFrom+"V"+a4.bearingTo}}}else{a5.VRB=" - METAR: 00000KT";a5.setSection([]);if(!az.showRoseOnDirGauge){a5.setArea([])}}}else{a5.VRB=""}if(az.showRoseOnDirGauge&&G.WindRoseData){ba=G.WindRoseData.length;bb=360/ba;for(bd=0;bd<ba;bd++){bc=Math.max(bc,G.WindRoseData[bd])}if(bc>0){for(bd=0;bd<ba;bd++){bg[bd]=steelseries.Section(bd*bb-bb/2,(bd+1)*bb-bb/2,"rgba("+k("2020D0","D04040",G.WindRoseData[bd]/bc)+","+(G.WindRoseData[bd]/bc).toFixed(2)+")")}}a5.setArea(bg)}if(ddimgtooltip.showTips){bi=b.latest_title+" "+b.bearing_info+": "+a4.valueLatest+"° ("+ax(+a4.valueLatest)+")"+a5.VRB+"<br>"+b.tenminavg_web+" "+b.bearing_info+": "+a4.valueAverage+"° ("+ax(+a4.valueAverage)+"), "+b.dominant_bearing+": "+G.domwinddir;if(!az.showRoseGauge){bi+="<br>"+b.windruntoday+": "+G.windrun+" "+p.windrun}$("#imgtip7_txt").html(bi)}}function a7(bb,ba){if(az.tipImgs[7]!==null){$("#imgtip7_img").attr("src",az.imgPathURL+az.tipImgs[7]+ba)}}return{data:a4,update:a9,gauge:a5}}return{getInstance:function(){if(!a3){a3=a6()}return a3}}})(),L=(function(){var a3;var a6;var a4={};var a5={};var a7;a5.firstRun=true;a5.odoDigits=5;function a8(){var bf,bc;if($("#canvas_rose").length){a5.gaugeSize=Math.ceil($("#canvas_rose").width()*az.gaugeScaling);a5.gaugeSize2=a5.gaugeSize/2;a5.showOdo=az.showRoseGaugeOdo||false;a5.compassString=b.compass;bf=document.createElement("div");bf.style.display="none";document.body.appendChild(bf);a5.plotSize=Math.floor(a5.gaugeSize*0.68);a5.plotSize2=a5.plotSize/2;a4.plot=document.createElement("canvas");a4.plot.width=a5.plotSize;a4.plot.height=a5.plotSize;a4.plot.id="rosePlot";a4.ctxPlot=a4.plot.getContext("2d");bf.appendChild(a4.plot);a4.frame=document.createElement("canvas");a4.frame.width=a5.gaugeSize;a4.frame.height=a5.gaugeSize;a4.ctxFrame=a4.frame.getContext("2d");steelseries.drawFrame(a4.ctxFrame,aP.frameDesign,a5.gaugeSize2,a5.gaugeSize2,a5.gaugeSize,a5.gaugeSize);a4.background=document.createElement("canvas");a4.background.width=a5.gaugeSize;a4.background.height=a5.gaugeSize;a4.ctxBackground=a4.background.getContext("2d");steelseries.drawBackground(a4.ctxBackground,aP.background,a5.gaugeSize2,a5.gaugeSize2,a5.gaugeSize,a5.gaugeSize);bd(a4.ctxBackground,a5.gaugeSize);a4.foreground=document.createElement("canvas");a4.foreground.width=a5.gaugeSize;a4.foreground.height=a5.gaugeSize;a4.ctxForeground=a4.foreground.getContext("2d");steelseries.drawForeground(a4.ctxForeground,aP.foreground,a5.gaugeSize,a5.gaugeSize,false);bc=document.getElementById("canvas_rose");a7=bc.getContext("2d");if(az.gaugeScaling!==1){$("#canvas_rose").css({width:a5.gaugeSize+"px",height:a5.gaugeSize+"px"})}bc.width=a5.gaugeSize;bc.height=a5.gaugeSize;if(az.showGaugeShadow){$("#canvas_rose").css(c(a5.gaugeSize))}a7.drawImage(a4.frame,0,0);a7.drawImage(a4.background,0,0);a7.drawImage(a4.foreground,0,0);if(a5.showOdo){a5.odoHeight=Math.ceil(a5.gaugeSize*0.08);a5.odoWidth=Math.ceil(Math.floor(a5.odoHeight*0.68)*a5.odoDigits);a4.Odo=document.createElement("canvas");$(a4.Odo).attr({id:"canvas_odo",width:a5.odoWidth,height:a5.odoHeight});$(a4.Odo).css({position:"absolute",top:Math.ceil(a5.gaugeSize*0.7+$("#canvas_rose").position().top)+"px",left:Math.ceil((a5.gaugeSize-a5.odoWidth)/2+$("#canvas_rose").position().left)+"px"});$(a4.Odo).insertBefore("#canvas_rose");a6=new steelseries.Odometer("canvas_odo",{height:a5.odoHeight,digits:a5.odoDigits-1,decimals:1})}$.subscribe("gauges.dataUpdated",be);$.subscribe("gauges.graphUpdate",bb)}else{return null}a5.firstRun=false;function be(){var bg,bh;if(a7&&!a5.firstRun){a7.clearRect(0,0,a5.gaugeSize,a5.gaugeSize);a4.ctxPlot.clearRect(0,0,a5.plotSize,a5.plotSize);bg=new RGraph.Rose("rosePlot",G.WindRoseData);bg.Set("chart.strokestyle","black");bg.Set("chart.background.axes.color","gray");bg.Set("chart.colors.alpha",0.5);bg.Set("chart.colors",["Gradient(#408040:red:#7070A0)"]);bg.Set("chart.margin",Math.ceil(40/G.WindRoseData.length));bg.Set("chart.title",a5.gaugeTitle);bg.Set("chart.title.size",Math.ceil(0.05*a5.plotSize));bg.Set("chart.title.bold",false);bg.Set("chart.title.color",aP.background.labelColor.getRgbColor());bg.Set("chart.gutter.top",0.2*a5.plotSize);bg.Set("chart.gutter.bottom",0.2*a5.plotSize);bg.Set("chart.tooltips.effect","snap");bg.Set("chart.labels.axes","");bg.Set("chart.background.circles",true);bg.Set("chart.background.grid.spokes",16);bg.Set("chart.radius",a5.plotSize2);bg.Draw();a7.drawImage(a4.frame,0,0);a7.drawImage(a4.background,0,0);bh=Math.floor(a5.gaugeSize2-a5.plotSize2);a7.drawImage(a4.plot,bh,bh);a7.drawImage(a4.foreground,0,0);if(a5.showOdo){a6.setValueAnimated(U(G.windrun))}if(ddimgtooltip.showTips){$("#imgtip10_txt").html(b.dominant_bearing+": "+G.domwinddir+"<br>"+b.windruntoday+": "+G.windrun+" "+p.windrun)}}}function bb(bh,bg){if(az.tipImgs[10]!==null){$("#imgtip10_img").attr("src",az.imgPathURL+az.tipImgs[10]+bg)}}function bd(bg,bi){bg.save();bg.font=0.08*bi+"px serif";bg.fillStyle=aP.background.labelColor.getRgbColor();bg.textAlign="center";bg.textBaseline="middle";for(var bh=0;bh<4;bh++){bg.translate(bi/2,bi*0.125);bg.fillText(a5.compassString[bh*2],0,0,bi);bg.translate(-bi/2,-bi*0.125);bg.translate(bi/2,bi/2);bg.rotate(Math.PI/2);bg.translate(-bi/2,-bi/2)}bg.restore()}function a9(bg){a5.gaugeTitle=bg}function ba(bg){a5.compassString=bg;if(!a5.firstRun){steelseries.drawBackground(a4.ctxBackground,aP.background,a5.gaugeSize2,a5.gaugeSize2,a5.gaugeSize,a5.gaugeSize);bd(a4.ctxBackground,a5.gaugeSize)}}return{update:be,gauge:a6,drawCompassPoints:bd,setTitle:a9,setCompassString:ba}}return{getInstance:function(){if(!a3){a3=a8()}return a3}}})(),i=(function(){var a3;var a5;var a4={};function a6(){var a8=$.extend(true,{},B);a4.value=0.0001;a4.sections=[steelseries.Section(0,2.9,"#289500"),steelseries.Section(2.9,5.8,"#f7e400"),steelseries.Section(5.8,7.8,"#f85900"),steelseries.Section(7.8,10.9,"#d8001d"),steelseries.Section(10.9,20,"#6b49c8")];a4.gradient=new steelseries.gradientWrapper(0,16,[0,0.1,0.19,0.31,0.45,0.625,1],[new steelseries.rgbaColor(0,200,0,1),new steelseries.rgbaColor(0,200,0,1),new steelseries.rgbaColor(255,255,0,1),new steelseries.rgbaColor(248,89,0,1),new steelseries.rgbaColor(255,0,0,1),new steelseries.rgbaColor(255,0,144,1),new steelseries.rgbaColor(153,140,255,1)]);a4.useSections=false;a4.useValueGradient=true;if($("#canvas_uv").length){a8.size=Math.ceil($("#canvas_uv").width()*az.gaugeScaling);a8.gaugeType=steelseries.GaugeType.TYPE3;a8.maxValue=aP.uvScaleDefMax;a8.titleString=b.uv_title;a8.niceScale=false;a8.section=a4.sections;a8.useSectionColors=a4.useSections;a8.valueGradient=a4.gradient;a8.useValueGradient=a4.useValueGradient;a8.lcdDecimals=aP.uvLcdDecimals;a5=new steelseries.RadialBargraph("canvas_uv",a8);a5.setValue(a4.value);if(az.gaugeScaling!==1){$("#canvas_uv").css({width:a8.size+"px",height:a8.size+"px"})}if(az.showGaugeShadow){$("#canvas_uv").css(c(a8.size))}$.subscribe("gauges.dataUpdated",a9);$.subscribe("gauges.graphUpdate",a7)}else{return null}function a9(){var bb,ba;a4.value=U(G.UV);if(+a4.value===0){ba=0}else{if(a4.value<2.5){ba=1}else{if(a4.value<5.5){ba=2}else{if(a4.value<7.5){ba=3}else{if(a4.value<10.5){ba=4}else{ba=5}}}}}if(a4.value>a5.getMaxValue()){a5.setMaxValue(Math.ceil(a4.value)+Math.ceil(a4.value)%2)}a4.risk=b.uv_levels[ba];a4.headLine=b.uv_headlines[ba];a4.detail=b.uv_details[ba];a5.setUnitString(a4.risk);a5.setValueAnimated(a4.value);if(ddimgtooltip.showTips){bb="<b>"+b.uv_title+": "+a4.value+"</b> - <i>"+b.solar_maxToday+": "+G.UVTH+"</i><br>";bb+="<i>"+a4.headLine+"</i><br>";bb+=a4.detail;$("#imgtip8_txt").html(bb)}}function a7(bb,ba){if(az.tipImgs[8]!==null){$("#imgtip8_img").attr("src",az.imgPathURL+az.tipImgs[8]+ba)}}return{update:a9,gauge:a5}}return{getInstance:function(){if(!a3){a3=a6()}return a3}}})(),av=(function(){var a3;var a5;var a4={};function a6(){var a8=$.extend(true,{},B);a4.value=0.0001;a4.sections=[steelseries.Section(0,600,"rgba(40,149,0,0.3)"),steelseries.Section(600,800,"rgba(248,89,0,0.3)"),steelseries.Section(800,1000,"rgba(216,0,29,0.3)"),steelseries.Section(1000,1800,"rgba(107,73,200,0.3)")];if($("#canvas_solar").length){a8.size=Math.ceil($("#canvas_solar").width()*az.gaugeScaling);a8.section=a4.sections;a8.maxValue=aP.solarGaugeScaleMax;a8.titleString=b.solar_title;a8.unitString="Wm\u207B\u00B2";a8.niceScale=false;a8.thresholdVisible=false;a8.lcdDecimals=0;if(az.showSunshineLed){a8.userLedVisible=true;a8.userLedColor=steelseries.LedColor.YELLOW_LED}a5=new steelseries.Radial("canvas_solar",a8);a5.setValue(a4.value);if(az.gaugeScaling!==1){$("#canvas_solar").css({width:a8.size+"px",height:a8.size+"px"})}if(az.showGaugeShadow){$("#canvas_solar").css(c(a8.size))}$.subscribe("gauges.dataUpdated",a9);$.subscribe("gauges.graphUpdate",a7)}else{return null}function a9(){var bb,ba;a4.value=+a1(G.SolarRad);a4.maxToday=a1(G.SolarTM);a4.currMaxValue=+a1(G.CurrentSolarMax);ba=(+a4.currMaxValue===0?"--":Math.round(+a4.value/+a4.currMaxValue*100));if(G.CurrentSolarMax!=="N/A"){a5.setArea([steelseries.Section(a4.currMaxValue,Math.min(a4.currMaxValue+100,aP.solarGaugeScaleMax),"rgba(220,0,0,0.5)")])}a4.maxValue=Math.max(Math.ceil(a4.value/100)*100,Math.ceil(a4.currMaxValue/100)*100,Math.ceil(a4.maxToday/100)*100,aP.solarGaugeScaleMax);if(a4.maxValue!==a5.getMaxValue()){a5.setMaxValue(a4.maxValue)}a5.setMaxMeasuredValue(a4.maxToday);a5.setValueAnimated(a4.value);if(az.showSunshineLed){a5.setUserLedOnOff((ba!=="--"&&ba>=aP.sunshineThresholdPct&&+a4.value>=aP.sunshineThreshold)?true:false)}if(ddimgtooltip.showTips){bb="<b>"+b.solar_title+": "+a4.value+" W/m²</b> - <i>"+ba+"% "+b.solar_ofMax+"</i><br>"+b.solar_currentMax+": "+a4.currMaxValue+" W/m²";if(G.SolarTM!==undefined){bb+="<br>"+b.solar_maxToday+": "+a4.maxToday+" W/m²"}$("#imgtip9_txt").html(bb)}}function a7(bb,ba){if(az.tipImgs[9]!==null){$("#imgtip9_img").attr("src",az.imgPathURL+az.tipImgs[9]+ba)}}return{update:a9,gauge:a5}}return{getInstance:function(){if(!a3){a3=a6()}return a3}}})(),z=(function(){var a3;var a5;var a4={};function a6(){var a8=$.extend(true,{},B);a4.sections=ad(true);a4.value=0.0001;a4.maxValue=aP.cloudScaleDefMaxm;if($("#canvas_cloud").length){a8.size=Math.ceil($("#canvas_cloud").width()*az.gaugeScaling);a8.section=a4.sections;a8.maxValue=a4.maxValue;a8.titleString=b.cloudbase_title;a8.unitString=b.metres;a8.thresholdVisible=false;a8.lcdDecimals=0;a5=new steelseries.Radial("canvas_cloud",a8);a5.setValue(a4.value);if(az.gaugeScaling!==1){$("#canvas_cloud").css({width:a8.size+"px",height:a8.size+"px"})}if(az.showGaugeShadow){$("#canvas_cloud").css(c(a8.size))}$.subscribe("gauges.dataUpdated",a9);$.subscribe("gauges.graphUpdate",a7)}else{return null}function a9(){a4.value=a1(G.cloudbasevalue);if(G.cloudbaseunit==="m"){a4.maxValue=Math.max(Math.ceil(a4.value/1000)*1000,aP.cloudScaleDefMaxm,a4.maxValue);if(a4.value<=1000){a4.value=Math.round(a4.value/10)*10}else{a4.value=Math.round(a4.value/50)*50}}else{a4.maxValue=Math.max(Math.ceil(a4.value/2000)*2000,aP.cloudScaleDefMaxft,a4.maxValue);if(a4.value<=2000){a4.value=Math.round(a4.value/50)*50}else{a4.value=Math.round(a4.value/100)*100}}if(a4.maxValue!==a5.getMaxValue()){a5.setValue(0);a5.setMaxValue(a4.maxValue)}a5.setValueAnimated(a4.value);if(az.showPopupData){$("#imgtip11_txt").html("<strong>"+b.cloudbase_popup_title+"</strong><br>"+b.cloudbase_popup_text)}}function a7(bb,ba){if(az.tipImgs[11]!==null){$("#imgtip11_img").attr("src",az.imgPathURL+az.tipImgs[11]+ba)}}return{data:a4,update:a9,gauge:a5}}return{getInstance:function(){if(!a3){a3=a6()}return a3}}})(),a2=function(){var a3=az.realTimeURL;if($.active>0){aV.abort()}if(az.longPoll){a3+="?timestamp="+aX}aV=$.ajax({url:a3,cache:(az.longPoll?true:false),dataType:"json",timeout:az.longPoll?(Math.min(az.realtimeInterval,20)+21)*1000:21000}).done(function(a4){w(a4)}).fail(function(a6,a4,a5){aH(a6,a4,a5)})},w=function(a3){var a4;aW.reset(az.longPoll?1:az.realtimeInterval);aE=0;if(az.longPoll&&a3.status!=="OK"){aH(null,"PHP Error",a3.status)}else{if(Q(a3)){a4=aB}else{a4=5}if(a4>0){ak=setTimeout(a2,a4*1000)}else{a2()}}},aH=function(a5,a3,a4){if(a5.statusText!=="abort"){if(!az.longPoll){clearTimeout(ak)}N.setLedOnOff(false);N.setTitle(b.led_title_unknown);aF.setText(a3+": "+a4);ak=setTimeout(a2,5000)}},Q=function(a3){var ba,a6,bd,bb,a4,a7,a8,bc,a5;if(az.longPoll){aX=a3.timestamp;G=a3.data}else{G=a3}if(G.ver!==undefined&&G.ver>=o){try{ba=G.LastRainTipISO.split(" ");a6=ba[0].replace(/\//g,"-").split("-");bd=ba[1].split(":");bb=new Date();bb.setHours(0,0,0,0);if(G.dateFormat===undefined){G.dateFormat="y/m/d"}else{G.dateFormat=G.dateFormat.replace("%","")}if(G.dateFormat==="y/m/d"){a7=new Date(a6[0],a6[1]-1,a6[2],bd[0],bd[1],0,0)}else{if(G.dateFormat==="d/m/y"){a7=new Date(a6[2],a6[1]-1,a6[0],bd[0],bd[1],0,0)}else{a7=new Date(a6[2],a6[0]-1,a6[1],bd[0],bd[1],0,0)}}if(a7.getTime()>=bb.getTime()){G.LastRained=b.LastRainedT_info+" "+ba[1]}else{if(a7.getTime()+86400000>=bb.getTime()){G.LastRained=b.LastRainedY_info+" "+ba[1]}else{G.LastRained=a7.getDate().toString()+" "+b.months[a7.getMonth()]+" "+b.at+" "+ba[1]}}}catch(a9){G.LastRained=G.LastRainTipISO}if(G.tempunit.length>1){G.tempunit=G.tempunit.replace(/&\S*;/,"°")}else{G.tempunit="°"+G.tempunit}a4=Date.now();a8=G.timeUTC.split(",");aR=Date.UTC(a8[0],a8[1]-1,a8[2],a8[3],a8[4],a8[5]);if(a4-aR>az.stationTimeout*60*1000){bc=Math.floor((a4-aR)/(1000*60));N.setLedColor(steelseries.LedColor.RED_LED);N.setTitle(b.led_title_offline);N.blink(true);if(bc<120){bd=bc.toString()+" "+b.StatusMinsAgo}else{if(bc<2*24*60){bd=Math.floor(bc/60).toString()+" "+b.StatusHoursAgo}else{bd=Math.floor(bc/(60*24)).toString()+" "+b.StatusDaysAgo}}G.forecast=b.led_title_offline+" "+b.StatusLastUpdate+" "+bd}else{if(+G.SensorContactLost===1){N.setLedColor(steelseries.LedColor.RED_LED);N.setTitle(b.led_title_lost);N.blink(true);G.forecast=b.led_title_lost}else{N.setLedColor(steelseries.LedColor.GREEN_LED);N.setTitle(b.led_title_ok+". "+b.StatusLastUpdate+": "+G.date);N.blink(false);N.setLedOnOff(true)}}G.forecast=$("<div/>").html(G.forecast).text();G.forecast=G.forecast.trim();G.pressunit=G.pressunit.trim();if(G.pressunit==="in"){G.pressunit="inHg"}G.windunit=G.windunit.trim();G.windunit=G.windunit.toLowerCase();if(G.windunit==="knots"){G.windunit="kts"}if(G.windunit==="kmh"||G.windunit==="kph"){G.windunit="km/h"}G.rainunit=G.rainunit.trim();try{if(G.cloudbaseunit.toLowerCase()==="metres"){G.cloudbaseunit="m"}else{if(G.cloudbaseunit.toLowerCase()==="feet"){G.cloudbaseunit="ft"}}}catch(a9){G.cloudbaseunit=""}if(az.showCloudGauge&&((az.weatherProgram===4||az.weatherProgram===5)||G.cloudbasevalue==="")){G.cloudbaseunit=(G.windunit==="mph"||G.windunit==="kts")?"ft":"m";G.cloudbasevalue=aS(G.temp,G.tempunit,G.dew,G.cloudbaseunit)}if(G.tempunit[1]!==p.temp&&an){if(G.tempunit[1]==="C"){aa(H)}else{aa(u)}}else{if(af){p.temp=G.tempunit[1];aQ("rad_unitsTemp",p.temp)}}if(G.rainunit!==p.rain&&an){d(p.rain==="mm"?K:r)}else{if(af){p.rain=G.rainunit;aQ("rad_unitsRain",p.rain)}}if(G.windunit!==p.wind&&an){ar(G.windunit,p.wind)}else{if(af){p.wind=G.windunit;p.windrun=ay(G.windunit);aQ("rad_unitsWind",p.wind)}}if(G.pressunit!==p.press&&an){aI(G.pressunit,p.press)}else{if(af){p.press=G.pressunit;aQ("rad_unitsPress",p.press)}}if(G.cloudbaseunit!==p.cloud&&an){E(p.cloud==="m"?T:q)}else{if(af){p.cloud=G.cloudbaseunit;aQ("rad_unitsCloud",p.cloud)}}aF.setText(G.forecast);if(af){C()}$.publish("gauges.dataUpdated",{});a5=true}else{if(G.ver<o){aW.setValue(0);aF.setText("Your "+az.realTimeURL.substr(az.realTimeURL.lastIndexOf("/")+1)+" file template needs updating!");return}else{aF.setText(b.realtimeCorrupt)}N.setLedOnOff(false);N.setTitle(b.led_title_unknown);a5=false}return a5},V=function(){aF.setText(b.StatusPageLimit);N.setLedColor(steelseries.LedColor.RED_LED);N.setTitle(b.StatusPageLimit);N.blink(true);N.setTitle(b.StatusTimeout);clearTimeout(ak);if($.active>0){aV.abort()}clearInterval(n);aW.setValue(0);$("#canvas_led").click(function(){$("#canvas_led").unbind("click");aW.reset(1);n=setInterval(function(){$.publish("gauges.clockTick",null)},1000);setTimeout(V,az.pageUpdateLimit*60*1000);a2()})},C=function(){var a3="?"+(new Date()).getTime().toString();if(G.tempunit[1]==="F"){p.temp="F";aQ("rad_unitsTemp","F");Z(false)}if(G.pressunit!=="hPa"){p.press=G.pressunit;aQ("rad_unitsPress",G.pressunit);g(G.pressunit)}if(G.windunit!=="km/h"){p.wind=G.windunit;aQ("rad_unitsWind",G.windunit);aA(G.windunit)}if(G.rainunit!=="mm"){p.rain=G.rainunit;aQ("rad_unitsRain",G.rainunit);aZ(false)}if(az.showSolarGauge&&G.SolarTM!==undefined&&am){am.gauge.setMaxMeasuredValueVisible(true)}if(az.showCloudGauge&&G.cloudbaseunit!=="m"){p.cloud=G.cloudbaseunit;aQ("rad_unitsCloud",G.cloudbaseunit);ae(false)}$("#scriptVer").html(az.scriptVer);$("#programVersion").html(G.version);$("#programBuild").html(G.build);$("#programName").html(aL[az.weatherProgram]);if(az.showPopupData){ddimgtooltip.init('[id^="tip_"]');if($(window).width()<480){$(".ddimgtooltip").filter(":hidden").width("200px")}}if(az.showPopupData&&az.showPopupGraphs){$("#imgtip0_img").attr("src",az.imgPathURL+az.tipImgs[0][0]+a3);if(j){$("#imgtip1_img").attr("src",az.imgPathURL+az.tipImgs[1][j.data.popupImg]+a3)}$("#imgtip2_img").attr("src",az.imgPathURL+az.tipImgs[2]+a3);$("#imgtip3_img").attr("src",az.imgPathURL+az.tipImgs[3]+a3);$("#imgtip4_img").attr("src",az.imgPathURL+az.tipImgs[4][0]+a3);$("#imgtip5_img").attr("src",az.imgPathURL+az.tipImgs[5]+a3);$("#imgtip6_img").attr("src",az.imgPathURL+az.tipImgs[6]+a3);$("#imgtip7_img").attr("src",az.imgPathURL+az.tipImgs[7]+a3);$("#imgtip8_img").attr("src",az.imgPathURL+az.tipImgs[8]+a3);$("#imgtip9_img").attr("src",az.imgPathURL+az.tipImgs[9]+a3);$("#imgtip10_img").attr("src",az.imgPathURL+az.tipImgs[10]+a3);$("#imgtip11_img").attr("src",az.imgPathURL+az.tipImgs[11]+a3);setInterval(function(){$.publish("gauges.graphUpdate","?"+(new Date()).getTime().toString())},az.graphUpdateTime*60*1000)}af=false},at=function(a3){var a4;if(a3){a4=[steelseries.Section(-100,-35,"rgba(195,  92, 211, 0.4)"),steelseries.Section(-35,-30,"rgba(139,  74, 197, 0.4)"),steelseries.Section(-30,-25,"rgba( 98,  65, 188, 0.4)"),steelseries.Section(-25,-20,"rgba( 62,  66, 185, 0.4)"),steelseries.Section(-20,-15,"rgba( 42,  84, 194, 0.4)"),steelseries.Section(-15,-10,"rgba( 25, 112, 210, 0.4)"),steelseries.Section(-10,-5,"rgba(  9, 150, 224, 0.4)"),steelseries.Section(-5,0,"rgba(  2, 170, 209, 0.4)"),steelseries.Section(0,5,"rgba(  0, 162, 145, 0.4)"),steelseries.Section(5,10,"rgba(  0, 158, 122, 0.4)"),steelseries.Section(10,15,"rgba( 54, 177,  56, 0.4)"),steelseries.Section(15,20,"rgba(111, 202,  56, 0.4)"),steelseries.Section(20,25,"rgba(248, 233,  45, 0.4)"),steelseries.Section(25,30,"rgba(253, 142,  42, 0.4)"),steelseries.Section(30,40,"rgba(236,  45,  45, 0.4)"),steelseries.Section(40,100,"rgba(245, 109, 205, 0.4)")]}else{a4=[steelseries.Section(-200,-30,"rgba(195,  92, 211, 0.4)"),steelseries.Section(-30,-25,"rgba(139,  74, 197, 0.4)"),steelseries.Section(-25,-15,"rgba( 98,  65, 188, 0.4)"),steelseries.Section(-15,-5,"rgba( 62,  66, 185, 0.4)"),steelseries.Section(-5,5,"rgba( 42,  84, 194, 0.4)"),steelseries.Section(5,15,"rgba( 25, 112, 210, 0.4)"),steelseries.Section(15,25,"rgba(  9, 150, 224, 0.4)"),steelseries.Section(25,32,"rgba(  2, 170, 209, 0.4)"),steelseries.Section(32,40,"rgba(  0, 162, 145, 0.4)"),steelseries.Section(40,50,"rgba(  0, 158, 122, 0.4)"),steelseries.Section(50,60,"rgba( 54, 177,  56, 0.4)"),steelseries.Section(60,70,"rgba(111, 202,  56, 0.4)"),steelseries.Section(70,80,"rgba(248, 233,  45, 0.4)"),steelseries.Section(80,90,"rgba(253, 142,  42, 0.4)"),steelseries.Section(90,110,"rgba(236,  45,  45, 0.4)"),steelseries.Section(110,200,"rgba(245, 109, 205, 0.4)")]}return a4},ac=function(a3){var a4=a3?1:1/25;return[steelseries.Section(0,0.25*a4,"rgba(0, 140, 0, 0.5)"),steelseries.Section(0.25*a4,1*a4,"rgba(80, 192, 80, 0.5)"),steelseries.Section(1*a4,4*a4,"rgba(150, 203, 150, 0.5)"),steelseries.Section(4*a4,16*a4,"rgba(212, 203, 109, 0.5)"),steelseries.Section(16*a4,50*a4,"rgba(225, 155, 105, 0.5)"),steelseries.Section(50*a4,1000*a4,"rgba(245, 86, 59, 0.5)")]},J=function(a3){var a4=a3?1:1/25;return[steelseries.Section(0,5*a4,"rgba(0, 250, 0, 1)"),steelseries.Section(5*a4,10*a4,"rgba(0, 250, 117, 1)"),steelseries.Section(10*a4,25*a4,"rgba(218, 246, 0, 1)"),steelseries.Section(25*a4,40*a4,"rgba(250, 186, 0, 1)"),steelseries.Section(40*a4,50*a4,"rgba(250, 95, 0, 1)"),steelseries.Section(50*a4,65*a4,"rgba(250, 0, 0, 1)"),steelseries.Section(65*a4,75*a4,"rgba(250, 6, 80, 1)"),steelseries.Section(75*a4,100*a4,"rgba(205, 18, 158, 1)"),steelseries.Section(100*a4,125*a4,"rgba(0, 0, 250, 1)"),steelseries.Section(125*a4,500*a4,"rgba(0, 219, 212, 1)")]},ab=function(a3){var a4=new steelseries.gradientWrapper(0,(a3?100:4),[0,0.1,0.62,1],[new steelseries.rgbaColor(15,148,0,1),new steelseries.rgbaColor(213,213,0,1),new steelseries.rgbaColor(213,0,25,1),new steelseries.rgbaColor(250,0,0,1)]);return a4},ad=function(a3){var a4;if(a3){a4=[steelseries.Section(0,150,"rgba(245, 86, 59, 0.5)"),steelseries.Section(150,300,"rgba(225, 155, 105, 0.5)"),steelseries.Section(300,750,"rgba(212, 203, 109, 0.5)"),steelseries.Section(750,1000,"rgba(150, 203, 150, 0.5)"),steelseries.Section(1000,1500,"rgba(80, 192, 80, 0.5)"),steelseries.Section(1500,2500,"rgba(0, 140, 0, 0.5)"),steelseries.Section(2500,5500,"rgba(19, 103, 186, 0.5)")]}else{a4=[steelseries.Section(0,500,"rgba(245, 86, 59, 0.5)"),steelseries.Section(500,1000,"rgba(225, 155, 105, 0.5)"),steelseries.Section(1000,2500,"rgba(212, 203, 109, 0.5)"),steelseries.Section(2500,3500,"rgba(150, 203, 150, 0.5)"),steelseries.Section(3500,5500,"rgba(80, 192, 80, 0.5)"),steelseries.Section(5500,8500,"rgba(0, 140, 0, 0.5)"),steelseries.Section(8500,18000,"rgba(19, 103, 186, 0.5)")]}return a4},ax=function(a3){if(a3===0){return b.calm}else{return(b.coords[Math.floor((a3+11.25)/22.5)%16])}},x=function(a6){var a3,a5,a4;a6=a6.replace(/(\[|\])/g,"\\$1");a3="[\\?&]"+a6+"=([^&#]*)";a5=new RegExp(a3);a4=a5.exec(window.location.href);if(a4===null){return""}else{return a4[1]}},U=function(a5,a3){try{return(/[\-+]?[0-9]+\.?[0-9]*/).exec(a5.replace(",","."))[0]}catch(a4){return a3||-9999}},a1=function(a5,a3){try{return(/[\-+]?[0-9]+/).exec(a5)[0]}catch(a4){return a3||-9999}},v=function(a5,a3,a7){var a6=a5*3*(a3[1]==="C"?1:(5/9)),a4;if(a5===-9999){a4=(a7?"--":a5)}else{if(a6>5){a4=(a7?b.RisingVeryRapidly:1)}else{if(a6>3){a4=(a7?b.RisingQuickly:1)}else{if(a6>1){a4=(a7?b.Rising:1)}else{if(a6>0.5){a4=(a7?b.RisingSlowly:1)}else{if(a6>=-0.5){a4=(a7?b.Steady:0)}else{if(a6>=-1){a4=(a7?b.FallingSlowly:-1)}else{if(a6>=-3){a4=(a7?b.Falling:-1)}else{if(a6>=-5){a4=(a7?b.FallingQuickly:-1)}else{a4=(a7?b.FallingVeryRapidly:-1)}}}}}}}}}return a4},aM=function(a5,a3,a7){var a6=a5*3,a4;if(a3==="inHg"){a6*=33.8639}else{if(a3==="kPa"){a6*=10}}if(a5===-9999){a4=(a7?"--":a5)}else{if(a6>6){a4=(a7?b.RisingVeryRapidly:1)}else{if(a6>3.5){a4=(a7?b.RisingQuickly:1)}else{if(a6>1.5){a4=(a7?b.Rising:1)}else{if(a6>0.1){a4=(a7?b.RisingSlowly:1)}else{if(a6>=-0.1){a4=(a7?b.Steady:0)}else{if(a6>=-1.5){a4=(a7?b.FallingSlowly:-1)}else{if(a6>=-3.5){a4=(a7?b.Falling:-1)}else{if(a6>=-6){a4=(a7?b.FallingQuickly:-1)}else{a4=(a7?b.FallingVeryRapidly:-1)}}}}}}}}}return a4},aD=function(a3){return Math.min(U(G.tempTL,a3),U(G.dewpointTL,a3),U(G.apptempTL,a3),U(G.wchillTL,a3))},au=function(a3){return Math.max(U(G.tempTH,a3),U(G.apptempTH,a3),U(G.heatindexTH,a3),U(G.humidex,a3))},H=function(a3){return(U(a3)*9/5+32).toFixed(1)},u=function(a3){return((U(a3)-32)*5/9).toFixed(1)},aG=function(a3){return(U(a3)*0.447).toFixed(1)},a0=function(a3){return(U(a3)*0.515).toFixed(1)},a=function(a3){return(U(a3)*0.2778).toFixed(1)},aO=function(a3){return(U(a3)*1.9426).toFixed(1)},ao=function(a3){return(U(a3)*2.237).toFixed(1)},h=function(a3){return(U(a3)*3.6).toFixed(1)},r=function(a3){return(U(a3)/25.4).toFixed(2)},K=function(a3){return(U(a3)*25.4).toFixed(1)},ag=function(a3){return(U(a3)*1.609344).toFixed(1)},f=function(a3){return(U(a3)*1.852).toFixed(1)},s=function(a3){return(U(a3)/1.609344).toFixed(1)},m=function(a3){return(U(a3)/1.852).toFixed(1)},l=function(a4,a3){return(U(a4)*0.029528744).toFixed(a3||2)},ap=function(a3){return(U(a3)/0.029528744).toFixed(1)},aj=function(a3){return(U(a3)*10).toFixed(1)},aU=function(a4,a3){return(U(a4)/10).toFixed(a3||2)},q=function(a3){return(a3*3.2808399).toFixed(0)},T=function(a3){return(a3/3.2808399).toFixed(0)},aK=function(a5,a6){var a4=new Date(),a3;a4.setYear(a4.getFullYear()+1);a3="; expires="+a4.toGMTString();document.cookie=a5+"="+encodeURIComponent(JSON.stringify(a6))+a3},y=function(a5){var a6,a3,a9,a4=null,a7=document.cookie.split(";");for(a6=a7.length;a6--;){a3=a7[a6].split("=");if(a3[0].trim()===a5){try{a9=decodeURIComponent(a3[1])}catch(a8){a9=a3[1]}a4=JSON.parse(unescape(a9));break}}return a4},aQ=function(a3,a4){$('input:radio[name="'+a3+'"]').filter('[value="'+a4+'"]').prop("checked",true)},aa=function(a3){G.apptemp=a3(G.apptemp);G.apptempTH=a3(G.apptempTH);G.apptempTL=a3(G.apptempTL);G.dew=a3(G.dew);G.dewpointTH=a3(G.dewpointTH);G.dewpointTL=a3(G.dewpointTL);G.heatindex=a3(G.heatindex);G.heatindexTH=a3(G.heatindexTH);G.humidex=a3(G.humidex);G.intemp=a3(G.intemp);G.temp=a3(G.temp);G.tempTH=a3(G.tempTH);G.tempTL=a3(G.tempTL);G.wchill=a3(G.wchill);G.wchillTL=a3(G.wchillTL);if(a3===H){G.temptrend=(+U(G.temptrend)*9/5).toFixed(1);G.tempunit="°F"}else{G.temptrend=(+U(G.temptrend)*5/9).toFixed(1);G.tempunit="°C"}},d=function(a3){G.rfall=a3(G.rfall);G.rrate=a3(G.rrate);G.rrateTM=a3(G.rrateTM);G.hourlyrainTH=a3(G.hourlyrainTH);G.rainunit=a3===r?"in":"mm"},ar=function(a9,a8){var a4,a6,a3,a5,a7=function(ba){return ba};switch(a9){case"mph":a4=aG;a3=ag;break;case"kts":a4=a0;a3=f;break;case"km/h":a4=a;a3=a7;break;case"m/s":default:a4=a7;a3=a7}switch(a8){case"mph":a6=ao;a5=s;p.windrun="miles";break;case"kts":a6=aO;a5=m;p.windrun="n.miles";break;case"km/h":a6=h;a5=a7;p.windrun="km";break;case"m/s":default:a6=a7;a5=a7;p.windrun="km"}G.wgust=a6(a4(G.wgust));G.wgustTM=a6(a4(G.wgustTM));G.windTM=a6(a4(G.windTM));G.windrun=a5(a3(G.windrun));G.wlatest=a6(a4(G.wlatest));G.wspeed=a6(a4(G.wspeed));G.windunit=a8},aI=function(a7,a6){var a4,a3,a5=function(a8){return a8};switch(a7){case"hPa":case"mb":a4=a5;break;case"inHg":a4=ap;break;case"kPa":a4=aj;break}switch(a6){case"hPa":case"mb":a3=a5;break;case"inHg":a3=l;break;case"kPa":a3=aU;break}G.press=a3(a4(G.press));G.pressH=a3(a4(G.pressH));G.pressL=a3(a4(G.pressL));G.pressTH=a3(a4(G.pressTH));G.pressTL=a3(a4(G.pressTL));G.presstrendval=a3(a4(G.presstrendval),3);G.pressunit=a6},E=function(a3){G.cloudbasevalue=a3(G.cloudbasevalue);G.cloudbaseunit=a3===q?"ft":"m"},aT=function(a3){var a4=a3.value;an=true;switch(a4){case"C":p.temp=a4;if(G.tempunit[1]!==a4){Z(true);aa(u);if(al){al.update()}if(j){j.update()}}break;case"F":p.temp=a4;if(G.tempunit[1]!==a4){Z(false);aa(H);if(al){al.update()}if(j){j.update()}}break;case"mm":p.rain=a4;if(G.rainunit!==a4){aZ(true);d(K);if(D){D.update()}if(I){I.update()}}break;case"in":p.rain=a4;if(G.rainunit!==a4){aZ(false);d(r);if(D){D.update()}if(I){I.update()}}break;case"hPa":case"inHg":case"mb":case"kPa":p.press=a4;if(G.pressunit!==a4){aI(G.pressunit,a4);g(a4);if(R){R.update()}}break;case"mph":case"kts":case"m/s":case"km/h":p.wind=a4;if(G.windunit!==a4){ar(G.windunit,a4);aA(a4);if(S){S.update()}if(ah){ah.update()}if(A){A.update()}}break;case"m":p.cloud=a4;if(G.cloudbaseunit!==a4){ae(true);E(T);if(t){t.update()}}break;case"ft":p.cloud=a4;if(G.cloudbaseunit!==a4){ae(false);E(q);if(t){t.update()}}break}if(az.useCookies){aK("units",p)}},Z=function(a3){if(a3){G.tempunit="°C";if(al){al.data.sections=at(true);al.data.minValue=aP.tempScaleDefMinC;al.data.maxValue=aP.tempScaleDefMaxC}if(j){j.data.sections=at(true);j.data.minValue=aP.tempScaleDefMinC;j.data.maxValue=aP.tempScaleDefMaxC}}else{G.tempunit="°F";if(al){al.data.sections=at(false);al.data.minValue=aP.tempScaleDefMinF;al.data.maxValue=aP.tempScaleDefMaxF}if(j){j.data.sections=at(false);j.data.minValue=aP.tempScaleDefMinF;j.data.maxValue=aP.tempScaleDefMaxF}}if(al){al.gauge.setUnitString(G.tempunit);al.gauge.setSection(al.data.sections)}if(j){j.gauge.setUnitString(G.tempunit);j.gauge.setSection(al.data.sections)}},aZ=function(a3){if(a3){G.rainunit="mm";if(D){D.data.lcdDecimals=1;D.data.scaleDecimals=1;D.data.labelNumberFormat=aP.labelFormat;D.data.sections=(aP.rainUseSectionColours?J(true):[]);D.data.maxValue=aP.rainScaleDefmm;D.data.grad=(aP.rainUseGradientColours?ab(true):null)}if(I){I.data.lcdDecimals=1;I.data.scaleDecimals=0;I.data.labelNumberFormat=aP.labelFormat;I.data.sections=ac(true);I.data.maxValue=aP.rainRateScaleDefmm}}else{G.rainunit="in";if(D){D.data.lcdDecimals=2;D.data.scaleDecimals=aP.rainScaleDefIn<1?2:1;D.data.labelNumberFormat=steelseries.LabelNumberFormat.FRACTIONAL;D.data.sections=(aP.rainUseSectionColours?J(false):[]);D.data.maxValue=aP.rainScaleDefIn;D.data.grad=(aP.rainUseGradientColours?ab(false):null)}if(I){I.data.lcdDecimals=2;I.data.scaleDecimals=aP.rainRateScaleDefIn<1?2:1;I.data.labelNumberFormat=steelseries.LabelNumberFormat.FRACTIONAL;I.data.sections=ac(false);I.data.maxValue=aP.rainRateScaleDefIn}}if(D){D.data.value=0;D.gauge.setUnitString(G.rainunit);D.gauge.setSection(D.data.sections);D.gauge.setGradient(D.data.grad);D.gauge.setFractionalScaleDecimals(D.data.scaleDecimals);D.gauge.setLabelNumberFormat(D.data.labelNumberFormat);D.gauge.setLcdDecimals(D.data.lcdDecimals)}if(I){I.data.value=0;I.gauge.setUnitString(G.rainunit+"/h");I.gauge.setSection(I.data.sections);I.gauge.setFractionalScaleDecimals(I.data.scaleDecimals);I.gauge.setLabelNumberFormat(I.data.labelNumberFormat);I.gauge.setLcdDecimals(I.data.lcdDecimals)}},aA=function(a4){var a3;if(!S){return}switch(a4){case"mph":a3=aP.windScaleDefMaxMph;break;case"kts":a3=aP.windScaleDefMaxKts;break;case"km/h":a3=aP.windScaleDefMaxKmh;break;case"m/s":a3=aP.windScaleDefMaxMs}G.windunit=a4;S.data.maxValue=a3;S.gauge.setUnitString(G.windunit);S.gauge.setValue(0)},g=function(a5){var a3,a4;if(!R){return}switch(a5){case"hPa":case"mb":a3=aP.baroScaleDefMinhPa;a4=aP.baroScaleDefMaxhPa;R.data.lcdDecimals=1;R.data.scaleDecimals=0;R.data.labelNumberFormat=aP.labelFormat;break;case"inHg":a3=aP.baroScaleDefMininHg;a4=aP.baroScaleDefMaxinHg;R.data.lcdDecimals=2;R.data.scaleDecimals=1;R.data.labelNumberFormat=steelseries.LabelNumberFormat.FRACTIONAL;break;case"kPa":a3=aP.baroScaleDefMinkPa;a4=aP.baroScaleDefMaxkPa;R.data.lcdDecimals=2;R.data.scaleDecimals=1;R.data.labelNumberFormat=steelseries.LabelNumberFormat.FRACTIONAL;break}G.pressunit=a5;R.gauge.setUnitString(a5);R.gauge.setLcdDecimals(R.data.lcdDecimals);R.gauge.setFractionalScaleDecimals(R.data.scaleDecimals);R.gauge.setLabelNumberFormat(R.data.labelNumberFormat);R.data.minValue=a3;R.data.maxValue=a4;R.data.value=R.data.minValue},ae=function(a3){if(!t){return}if(a3){t.data.sections=ad(true);t.data.maxValue=aP.cloudScaleDefMaxm}else{t.data.sections=ad(false);t.data.maxValue=aP.cloudScaleDefMaxft}t.data.value=0;t.gauge.setUnitString(a3?b.metres:b.feet);t.gauge.setSection(t.data.sections)},aY=function(a3){b=a3;if(al){if($("#rad_temp1").is(":checked")){al.data.title=b.temp_title_out}else{al.data.title=b.temp_title_in}al.gauge.setTitleString(al.data.title);if(G.ver){al.update()}}if(j){switch($('input[name="rad_dew"]:checked').val()){case"dew":j.data.title=b.dew_title;break;case"app":j.data.title=b.apptemp_title;break;case"wnd":j.data.title=b.chill_title;break;case"hea":j.data.title=b.heat_title;break;case"hum":j.data.title=b.humdx_title;break}j.gauge.setTitleString(j.data.title);if(G.ver){j.update()}}if(D){D.data.title=b.rain_title;D.gauge.setTitleString(D.data.title);if(G.ver){D.update()}}if(I){I.data.title=b.rrate_title;I.gauge.setTitleString(I.data.title);if(G.ver){I.update()}}if(X){if($("#rad_hum1").is(":checked")){X.data.title=b.hum_title_out}else{X.data.title=b.hum_title_in}X.gauge.setTitleString(X.data.title);if(G.ver){X.update()}}if(R){R.data.title=b.baro_title;R.gauge.setTitleString(R.data.title);if(G.ver){R.update()}}if(S){S.data.title=b.wind_title;S.gauge.setTitleString(S.data.title);if(G.ver){S.update()}}if(ah){ah.gauge.setPointSymbols(b.compass);ah.data.titles=[b.latest_web,b.tenminavg_web];ah.gauge.setLcdTitleStrings(ah.data.titles);if(G.ver){ah.update()}}if(e){e.gauge.setTitleString(b.uv_title);if(G.ver){e.update()}}if(am){am.gauge.setTitleString(b.solar_title);if(G.ver){am.update()}}if(A){A.setTitle(b.windrose);A.setCompassString(b.compass);if(G.ver){A.update()}}if(t){t.data.units=G.cloudunit==="m"?b.metres:b.feet;t.gauge.setTitleString(b.cloudbase_title);t.gauge.setUnitString(t.data.units);if(G.ver){t.update()}}},ay=function(a3){var a4;switch(a3){case"mph":a4="miles";break;case"kts":a4="n.miles";break;case"km/h":case"m/s":default:a4="km";break}return a4},aS=function(a6,a8,a5,a4){var a7=a6-a5;var a3=a7*(a8[1]==="C"?400:227.3);if(a4==="m"){a3=T(a3)}return a3},c=function(a3){var a4=Math.floor(a3*0.015);return{"box-shadow":a4+"px "+a4+"px "+a4+"px "+aP.shadowColour,"border-radius":Math.floor(a3/2)+"px"}},k=function(a3,a8,bb){var a6,a9,a5,ba,a7,a4;a6=parseInt(a3.substr(0,2),16);a9=parseInt(a3.substr(2,2),16);a5=parseInt(a3.substr(4,2),16);ba=parseInt(a8.substr(0,2),16)-a6;a7=parseInt(a8.substr(2,2),16)-a9;a4=parseInt(a8.substr(4,2),16)-a5;return(a6+(ba*bb)).toFixed(0)+","+(a9+(a7*bb)).toFixed(0)+","+(a5+(a4*bb)).toFixed(0)};if(!document.createElement("canvas").getContext){$("body").html(b.canvasnosupport);setTimeout(function(){window.location=az.oldGauges},3000);return false}else{$(document).ready(function(){aC(az.dashboardMode)})}return{setLang:aY,setUnits:aT,processData:Q}}())
/*! Image w/ description tooltip v2.0  -  For FF1+ IE6+ Opr8+
* Created: April 23rd, 2010. This notice must stay intact for usage
* Author: Dynamic Drive at http://www.dynamicdrive.com/
* Visit http://www.dynamicdrive.com/ for full source code
* Modified: M Crossley June 2011, January 2012
* v2.-
*/
,ddimgtooltip={tiparray:(function(){var b={background:"#FFFFFF",color:"black",border:"2px ridge darkblue"},a=12,c=[];for(;a--;){c[a]=[null," ",b]}return c}()),tooltipoffsets:[20,-30],tipDelay:1000,_delayTimer:0,tipprefix:"imgtip",createtip:function(b,c,a){if(b("#"+c).length===0){return b('<div id="'+c+'" class="ddimgtooltip" />').html(((a[1])?'<div class="tipinfo" id="'+c+'_txt">'+a[1]+"</div>":"")+(a[0]!==null?'<div style="text-align:center"><img class="tipimg" id="'+c+'_img" src="'+a[0]+'" /></div>':"")).css(a[2]||{}).appendTo(document.body)}return null},positiontooltip:function(c,f,g){var j=g.pageX+this.tooltipoffsets[0],i=g.pageY+this.tooltipoffsets[1],d=f.outerWidth(),b=f.outerHeight(),a=c(window).height(),h=c(document).scrollTop();j=(j+d>c(document).scrollLeft()+c(window).width())?j-d-(ddimgtooltip.tooltipoffsets[0]*2):j;i=(i+b>h+a)?h+a-b-10:i;f.css({left:j,top:i})},delaybox:function(b,a){if(this.showTips){ddimgtooltip._delayTimer=setTimeout(function(){ddimgtooltip.showbox(a.selector)},ddimgtooltip.tipDelay)}},showbox:function(a){if(this.showTips){$(a).fadeIn()}},hidebox:function(b,a){clearTimeout(ddimgtooltip._delayTimer);a.fadeOut()},showTips:false,init:function(a){$(document).ready(function(c){var b=ddimgtooltip.tiparray,d=c(a);if(d.length===0){return}d.each(function(){var e=c(this),g,h,f;e.attr("id").match(/_(\d+)/);g=parseInt(RegExp.$1,10);h=this._tipid=ddimgtooltip.tipprefix+g;f=ddimgtooltip.createtip(c,h,b[g]);e.mouseenter(function(j){var i=c("#"+this._tipid);ddimgtooltip.delaybox(c,i,j)});e.mouseleave(function(){var i=c("#"+this._tipid);ddimgtooltip.hidebox(c,i)});e.mousemove(function(j){var i=c("#"+this._tipid);ddimgtooltip.positiontooltip(c,i,j)});if(f){f.mouseenter(function(){ddimgtooltip.hidebox(c,c(this))})}})})}};String.prototype.trim=String.prototype.trim||function trim(){return this.replace(/^\s+|\s+$/g,"")};